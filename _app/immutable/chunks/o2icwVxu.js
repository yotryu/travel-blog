import"./DsnmJJEf.js";import{o as et,a7 as V,u as mt,ae as s,af as x,ab as T,ac as C,al as t,ad as f,a9 as X,ag as z,ak as F,aa as it,aj as y,ah as u,ai as O,am as i}from"./BLq7Ua4-.js";import{i as P}from"./CjYXtWFW.js";import{b as gt,s as N,c as Q,e as rt,i as at}from"./BsQbfKRW.js";import{s as k}from"./CDOJrobL.js";import{b as R}from"./Ujk8DKch.js";import{o as nt}from"./FsTs4vV3.js";function ft(c,o,m,g){var n=c.__style;if(et||n!==o){var l=gt(o);(!et||l!==c.getAttribute("style"))&&(l==null?c.removeAttribute("style"):c.style.cssText=l),c.__style=o}return g}var ct=z("<img/>"),pt=z('<img src="https://icon-library.com/images/not-found-icon/not-found-icon-20.jpg" alt="Not Found"/>'),bt=z('<div class="center svelte-zbdee2"><div class="circle svelte-zbdee2"></div></div>');function ht(c,o){V(o,!0);let m=new Image,g=x(!1),n=x(!1),l=x(!1);mt(()=>{m.src!=o.src&&(m.src=o.src,s(g,!0),s(n,!1),s(l,!1))}),nt(()=>{m.onload=()=>{s(g,!1),s(n,!0)},m.onerror=()=>{s(g,!1),s(l,!0)},m.src=o.src});var v=T(),H=C(v);{var D=h=>{var a=ct();F(()=>{N(a,1,Q(o.clazz),"svelte-zbdee2"),k(a,"src",o.src),k(a,"alt",o.src)}),f(h,a)},W=h=>{var a=T(),I=C(a);{var _=e=>{var r=pt();f(e,r)},A=e=>{var r=T(),w=C(r);{var j=p=>{var b=bt();f(p,b)};P(w,p=>{t(g)&&p(j)},!0)}f(e,r)};P(I,e=>{t(l)?e(_):e(A,!1)},!0)}f(h,a)};P(H,h=>{t(n)?h(D):h(W,!1)})}f(c,v),X()}var vt=z('<button><img class="image-preview svelte-e3b7yj"/></button>'),dt=(c,o)=>o.onDismiss(),ut=z('<div class="overlay svelte-e3b7yj"><div></div> <div><!></div> <div class="close svelte-e3b7yj"><button class="close-button svelte-e3b7yj">Close</button></div></div>');function yt(c,o){V(o,!0);let m=x(0),g=x(0),n=i(()=>t(m)<=t(g)),l=i(()=>t(n)?"image-list-portrait":"image-list"),v=i(()=>t(n)?"image-button-portrait":"image-button"),H=i(()=>t(n)?"main-image-portrait":"main-image");var D=T(),W=C(D);{var h=a=>{var I=ut(),_=y(I);rt(_,21,()=>o.imagesData,at,(j,p,b)=>{const S=i(()=>b==o.index?"selected":"");var d=vt();d.__click=U=>o.onSelect(b);var L=y(d);u(d),F(()=>{N(d,1,`${t(v)??""} ${t(S)??""}`,"svelte-e3b7yj"),k(L,"src",t(p).navSrc),k(L,"alt",t(p).navSrc)}),f(j,d)}),u(_);var A=O(_,2),e=y(A);ht(e,{clazz:"main-image-img",get src(){return o.imagesData[o.index].src}}),u(A);var r=O(A,2),w=y(r);w.__click=[dt,o],u(r),u(I),F(()=>{N(_,1,Q(t(l)),"svelte-e3b7yj"),N(A,1,Q(t(H)),"svelte-e3b7yj")}),f(a,I)};P(W,a=>{o.index>=0&&a(h)})}R("innerWidth",a=>s(m,a,!0)),R("innerHeight",a=>s(g,a,!0)),f(c,D),X()}it(["click"]);var _t=z('<div class="image-button-container svelte-w6vyc"><button class="image-button svelte-w6vyc"><img class="svelte-w6vyc"/></button></div>'),At=(c,o)=>s(o,0),wt=z('<div style="width:100%; height:100%; overflow:hidden; display:flex; justify-content: center;"><button class="image-button svelte-w6vyc"><img class="svelte-w6vyc"/></button></div>'),jt=z('<div class="overlay svelte-w6vyc"><!></div> <!>',1);function Ht(c,o){V(o,!0);let m=i(()=>o.imagesData.length),g=x(0),n=x(0),l=i(()=>t(g)<=t(n)),v=x(-1);const H=[[{primaryAspect:"any",images:[{left:0,top:0,right:100,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:50,bottom:100},{left:50,top:0,right:100,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:50},{left:0,top:50,right:100,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:60,bottom:100},{left:60,top:0,right:100,bottom:50},{left:60,top:50,right:100,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:50},{left:0,top:50,right:50,bottom:100},{left:50,top:50,right:100,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:60,bottom:60},{left:60,top:0,right:100,bottom:50},{left:60,top:50,right:100,bottom:100},{left:0,top:60,right:60,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:50},{left:0,top:50,right:50,bottom:100},{left:50,top:50,right:100,bottom:75},{left:50,top:75,right:100,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:60,bottom:60},{left:60,top:0,right:100,bottom:50},{left:60,top:50,right:100,bottom:100},{left:0,top:60,right:30,bottom:100},{left:30,top:60,right:60,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:40},{left:0,top:40,right:50,bottom:75},{left:50,top:65,right:100,bottom:100},{left:0,top:75,right:50,bottom:100},{left:50,top:40,right:100,bottom:65}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:60,bottom:60},{left:0,top:60,right:33,bottom:100},{left:33,top:60,right:67,bottom:100},{left:67,top:60,right:100,bottom:100},{left:60,top:0,right:100,bottom:30},{left:60,top:30,right:100,bottom:60}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:35},{left:0,top:85,right:100,bottom:100},{left:0,top:35,right:50,bottom:65},{left:50,top:55,right:100,bottom:85},{left:0,top:65,right:50,bottom:85},{left:50,top:35,right:100,bottom:55}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:50,bottom:50},{left:0,top:50,right:33,bottom:100},{left:33,top:50,right:67,bottom:100},{left:50,top:0,right:75,bottom:50},{left:75,top:0,right:100,bottom:50},{left:67,top:50,right:100,bottom:75},{left:67,top:75,right:100,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:30},{left:0,top:30,right:40,bottom:80},{left:0,top:80,right:100,bottom:100},{left:40,top:30,right:70,bottom:60},{left:70,top:55,right:100,bottom:80},{left:40,top:60,right:70,bottom:80},{left:70,top:30,right:100,bottom:55}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:50,bottom:40},{left:0,top:40,right:33,bottom:100},{left:33,top:40,right:67,bottom:70},{left:33,top:70,right:67,bottom:100},{left:67,top:40,right:100,bottom:70},{left:67,top:70,right:100,bottom:100},{left:50,top:0,right:75,bottom:40},{left:75,top:0,right:100,bottom:40}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:30},{left:0,top:30,right:40,bottom:70},{left:40,top:30,right:100,bottom:50},{left:0,top:70,right:40,bottom:100},{left:40,top:50,right:75,bottom:75},{left:65,top:75,right:100,bottom:100},{left:75,top:50,right:100,bottom:75},{left:40,top:75,right:65,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:50,bottom:50},{left:0,top:50,right:30,bottom:100},{left:50,top:0,right:100,bottom:30},{left:30,top:50,right:65,bottom:75},{left:30,top:75,right:65,bottom:100},{left:50,top:30,right:65,bottom:50},{left:65,top:30,right:100,bottom:65},{left:65,top:65,right:83,bottom:100},{left:83,top:65,right:100,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:30},{left:0,top:30,right:50,bottom:50},{left:50,top:30,right:100,bottom:50},{left:0,top:50,right:35,bottom:75},{left:65,top:50,right:100,bottom:75},{left:35,top:50,right:65,bottom:75},{left:30,top:75,right:70,bottom:100},{left:0,top:75,right:30,bottom:100},{left:70,top:75,right:100,bottom:100}]}]];function D(){if(t(m)>0&&t(m)<=H.length){let e=H[t(m)-1].find(r=>t(l)&&(r.primaryAspect=="any"||r.primaryAspect=="portrait")||!t(l)&&(r.primaryAspect=="any"||r.primaryAspect=="landscape"));if(e!=null)return e}return{primaryAspect:"any",images:[]}}var W=jt(),h=C(W),a=y(h);{var I=e=>{const r=i(D),w=i(()=>t(l)?t(g)/t(n):t(n)/t(g)),j=i(()=>t(l)?1:t(w)),p=i(()=>t(l)?t(w):1),b=i(()=>.3);var S=T(),d=C(S);rt(d,17,()=>o.imagesData,at,(L,U,B)=>{const q=i(()=>t(r).images[B].left),E=i(()=>t(r).images[B].top),G=i(()=>t(r).images[B].right),J=i(()=>t(r).images[B].bottom),Y=i(()=>t(q)+(t(q)==0||t(q)==100?2:1)*t(b)*t(j)),Z=i(()=>t(E)+(t(E)==0||t(E)==100?2:1)*t(b)*t(p)),lt=i(()=>t(G)-(t(G)==0||t(G)==100?2:1)*t(b)*t(j)),st=i(()=>t(J)-(t(J)==0||t(J)==100?2:1)*t(b)*t(p)),$=i(()=>t(lt)-t(Y)),tt=i(()=>t(st)-t(Z));var M=_t(),K=y(M);K.__click=()=>s(v,B,!0);var ot=y(K);u(K),u(M),F(()=>{ft(M,`position:absolute; left:${t(Y)??""}%; top:${t(Z)??""}%; width:${t($)??""}%; height:${t(tt)??""}%; min-width:${t($)??""}%; min-height:${t(tt)??""}%; overflow:hidden; display:flex; justify-content: center;`),k(ot,"src",t(U).collageSrc),k(ot,"alt",t(U).collageSrc)}),f(L,M)}),f(e,S)},_=e=>{var r=T(),w=C(r);{var j=p=>{var b=wt(),S=y(b);S.__click=[At,v];var d=y(S);u(S),u(b),F(()=>{k(d,"src",o.imagesData[0].collageSrc),k(d,"alt",o.imagesData[0].collageSrc)}),f(p,b)};P(w,p=>{t(m)>0&&p(j)},!0)}f(e,r)};P(a,e=>{D().images.length>0?e(I):e(_,!1)})}u(h);var A=O(h,2);yt(A,{get imagesData(){return o.imagesData},get index(){return t(v)},onSelect:e=>s(v,e,!0),onDismiss:()=>s(v,-1)}),R("innerWidth",e=>s(g,e,!0)),R("innerHeight",e=>s(n,e,!0)),f(c,W),X()}it(["click"]);export{Ht as I};
