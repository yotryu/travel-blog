import"./DsnmJJEf.js";import{h as et,az as mt,aA as gt,m as V,a4 as nt,q as m,t as j,J as T,o as C,A as t,w as c,x as X,n as k,v as B,l as it,u as y,z as u,y as O,K as i}from"./BX6k2Yzj.js";import{i as P}from"./BDF4QKAz.js";import{b as ft,s as K,c as Q,e as rt,i as at}from"./BOznOsgP.js";import{s as S}from"./SErHrX3h.js";import{o as ct}from"./DdSnkxrx.js";function pt(l,o,g,n){var f=l.__style;if(et||f!==o){var s=ft(o);(!et||s!==l.getAttribute("style"))&&(s==null?l.removeAttribute("style"):l.style.cssText=s),l.__style=o}return n}function L(l,o){mt(window,["resize"],()=>gt(()=>o(window[l])))}var bt=k("<img/>"),ht=k('<img src="https://icon-library.com/images/not-found-icon/not-found-icon-20.jpg" alt="Not Found"/>'),vt=k('<div class="center svelte-zbdee2"><div class="circle svelte-zbdee2"></div></div>');function dt(l,o){V(o,!0);let g=new Image,n=j(!1),f=j(!1),s=j(!1);nt(()=>{g.src!=o.src&&(g.src=o.src,m(n,!0),m(f,!1),m(s,!1))}),ct(()=>{g.onload=()=>{m(n,!1),m(f,!0)},g.onerror=()=>{m(n,!1),m(s,!0)},g.src=o.src});var v=T(),H=C(v);{var D=h=>{var a=bt();B(()=>{K(a,1,Q(o.clazz),"svelte-zbdee2"),S(a,"src",o.src),S(a,"alt",o.src)}),c(h,a)},W=h=>{var a=T(),I=C(a);{var _=e=>{var r=ht();c(e,r)},A=e=>{var r=T(),w=C(r);{var x=p=>{var b=vt();c(p,b)};P(w,p=>{t(n)&&p(x)},!0)}c(e,r)};P(I,e=>{t(s)?e(_):e(A,!1)},!0)}c(h,a)};P(H,h=>{t(f)?h(D):h(W,!1)})}c(l,v),X()}var ut=k('<button><img class="image-preview svelte-e3b7yj"/></button>'),yt=(l,o)=>o.onDismiss(),_t=k('<div class="overlay svelte-e3b7yj"><div></div> <div><!></div> <div class="close svelte-e3b7yj"><button class="close-button svelte-e3b7yj">Close</button></div></div>');function At(l,o){V(o,!0);let g=j(0),n=j(0),f=i(()=>t(g)<=t(n)),s=i(()=>t(f)?"image-list-portrait":"image-list"),v=i(()=>t(f)?"image-button-portrait":"image-button"),H=i(()=>t(f)?"main-image-portrait":"main-image");var D=T(),W=C(D);{var h=a=>{var I=_t(),_=y(I);rt(_,21,()=>o.imagesData,at,(x,p,b)=>{const z=i(()=>b==o.index?"selected":"");var d=ut();d.__click=M=>o.onSelect(b);var F=y(d);u(d),B(()=>{K(d,1,`${t(v)??""} ${t(z)??""}`,"svelte-e3b7yj"),S(F,"src",t(p).navSrc),S(F,"alt",t(p).navSrc)}),c(x,d)}),u(_);var A=O(_,2),e=y(A);dt(e,{clazz:"main-image-img",get src(){return o.imagesData[o.index].src}}),u(A);var r=O(A,2),w=y(r);w.__click=[yt,o],u(r),u(I),B(()=>{K(_,1,Q(t(s)),"svelte-e3b7yj"),K(A,1,Q(t(H)),"svelte-e3b7yj")}),c(a,I)};P(W,a=>{o.index>=0&&a(h)})}L("innerWidth",a=>m(g,a,!0)),L("innerHeight",a=>m(n,a,!0)),c(l,D),X()}it(["click"]);var wt=k('<div class="image-button-container svelte-w6vyc"><button class="image-button svelte-w6vyc"><img class="svelte-w6vyc"/></button></div>'),xt=(l,o)=>m(o,0),zt=k('<div style="width:100%; height:100%; overflow:hidden; display:flex; justify-content: center;"><button class="image-button svelte-w6vyc"><img class="svelte-w6vyc"/></button></div>'),St=k('<div class="overlay svelte-w6vyc"><!></div> <!>',1);function Wt(l,o){V(o,!0);let g=i(()=>o.imagesData.length),n=j(0),f=j(0),s=i(()=>t(n)<=t(f)),v=j(-1);const H=[[{primaryAspect:"any",images:[{left:0,top:0,right:100,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:50,bottom:100},{left:50,top:0,right:100,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:50},{left:0,top:50,right:100,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:60,bottom:100},{left:60,top:0,right:100,bottom:50},{left:60,top:50,right:100,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:50},{left:0,top:50,right:50,bottom:100},{left:50,top:50,right:100,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:60,bottom:60},{left:60,top:0,right:100,bottom:50},{left:60,top:50,right:100,bottom:100},{left:0,top:60,right:60,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:50},{left:0,top:50,right:50,bottom:100},{left:50,top:50,right:100,bottom:75},{left:50,top:75,right:100,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:60,bottom:60},{left:60,top:0,right:100,bottom:50},{left:60,top:50,right:100,bottom:100},{left:0,top:60,right:30,bottom:100},{left:30,top:60,right:60,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:40},{left:0,top:40,right:50,bottom:75},{left:50,top:65,right:100,bottom:100},{left:0,top:75,right:50,bottom:100},{left:50,top:40,right:100,bottom:65}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:60,bottom:60},{left:0,top:60,right:33,bottom:100},{left:33,top:60,right:67,bottom:100},{left:67,top:60,right:100,bottom:100},{left:60,top:0,right:100,bottom:30},{left:60,top:30,right:100,bottom:60}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:35},{left:0,top:85,right:100,bottom:100},{left:0,top:35,right:50,bottom:65},{left:50,top:55,right:100,bottom:85},{left:0,top:65,right:50,bottom:85},{left:50,top:35,right:100,bottom:55}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:50,bottom:50},{left:0,top:50,right:33,bottom:100},{left:33,top:50,right:67,bottom:100},{left:50,top:0,right:75,bottom:50},{left:75,top:0,right:100,bottom:50},{left:67,top:50,right:100,bottom:75},{left:67,top:75,right:100,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:30},{left:0,top:30,right:40,bottom:80},{left:0,top:80,right:100,bottom:100},{left:40,top:30,right:70,bottom:60},{left:70,top:55,right:100,bottom:80},{left:40,top:60,right:70,bottom:80},{left:70,top:30,right:100,bottom:55}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:50,bottom:40},{left:0,top:40,right:33,bottom:100},{left:33,top:40,right:67,bottom:70},{left:33,top:70,right:67,bottom:100},{left:67,top:40,right:100,bottom:70},{left:67,top:70,right:100,bottom:100},{left:50,top:0,right:75,bottom:40},{left:75,top:0,right:100,bottom:40}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:30},{left:0,top:30,right:40,bottom:70},{left:40,top:30,right:100,bottom:50},{left:0,top:70,right:40,bottom:100},{left:40,top:50,right:75,bottom:75},{left:65,top:75,right:100,bottom:100},{left:75,top:50,right:100,bottom:75},{left:40,top:75,right:65,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:50,bottom:50},{left:0,top:50,right:30,bottom:100},{left:50,top:0,right:100,bottom:30},{left:30,top:50,right:65,bottom:75},{left:30,top:75,right:65,bottom:100},{left:50,top:30,right:65,bottom:50},{left:65,top:30,right:100,bottom:65},{left:65,top:65,right:83,bottom:100},{left:83,top:65,right:100,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:30},{left:0,top:30,right:50,bottom:50},{left:50,top:30,right:100,bottom:50},{left:0,top:50,right:35,bottom:75},{left:65,top:50,right:100,bottom:75},{left:35,top:50,right:65,bottom:75},{left:30,top:75,right:70,bottom:100},{left:0,top:75,right:30,bottom:100},{left:70,top:75,right:100,bottom:100}]}]];function D(){if(t(g)>0&&t(g)<=H.length){let e=H[t(g)-1].find(r=>t(s)&&(r.primaryAspect=="any"||r.primaryAspect=="portrait")||!t(s)&&(r.primaryAspect=="any"||r.primaryAspect=="landscape"));if(e!=null)return e}return{primaryAspect:"any",images:[]}}var W=St(),h=C(W),a=y(h);{var I=e=>{const r=i(D),w=i(()=>t(s)?t(n)/t(f):t(f)/t(n)),x=i(()=>t(s)?1:t(w)),p=i(()=>t(s)?t(w):1),b=i(()=>.3);var z=T(),d=C(z);rt(d,17,()=>o.imagesData,at,(F,M,q)=>{const N=i(()=>t(r).images[q].left),R=i(()=>t(r).images[q].top),U=i(()=>t(r).images[q].right),E=i(()=>t(r).images[q].bottom),Y=i(()=>t(N)+(t(N)==0||t(N)==100?2:1)*t(b)*t(x)),Z=i(()=>t(R)+(t(R)==0||t(R)==100?2:1)*t(b)*t(p)),lt=i(()=>t(U)-(t(U)==0||t(U)==100?2:1)*t(b)*t(x)),st=i(()=>t(E)-(t(E)==0||t(E)==100?2:1)*t(b)*t(p)),$=i(()=>t(lt)-t(Y)),tt=i(()=>t(st)-t(Z));var J=wt(),G=y(J);G.__click=()=>m(v,q,!0);var ot=y(G);u(G),u(J),B(()=>{pt(J,`position:absolute; left:${t(Y)??""}%; top:${t(Z)??""}%; width:${t($)??""}%; height:${t(tt)??""}%; min-width:${t($)??""}%; min-height:${t(tt)??""}%; overflow:hidden; display:flex; justify-content: center;`),S(ot,"src",t(M).collageSrc),S(ot,"alt",t(M).collageSrc)}),c(F,J)}),c(e,z)},_=e=>{var r=T(),w=C(r);{var x=p=>{var b=zt(),z=y(b);z.__click=[xt,v];var d=y(z);u(z),u(b),B(()=>{S(d,"src",o.imagesData[0].collageSrc),S(d,"alt",o.imagesData[0].collageSrc)}),c(p,b)};P(w,p=>{t(g)>0&&p(x)},!0)}c(e,r)};P(a,e=>{D().images.length>0?e(I):e(_,!1)})}u(h);var A=O(h,2);At(A,{get imagesData(){return o.imagesData},get index(){return t(v)},onSelect:e=>m(v,e,!0),onDismiss:()=>m(v,-1)}),L("innerWidth",e=>m(n,e,!0)),L("innerHeight",e=>m(f,e,!0)),c(l,W),X()}it(["click"]);export{Wt as I,L as b};
