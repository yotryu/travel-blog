import"./DsnmJJEf.js";import{h as et,m as V,a4 as mt,q as s,t as z,J as T,o as C,A as t,w as f,x as X,n as k,v as B,l as it,u as y,z as u,y as O,K as i}from"./3YxIYkGD.js";import{i as P}from"./Q7Ihw9sr.js";import{d as gt,s as K,c as Q,b as L,e as rt,i as at}from"./CdInxDoI.js";import{s as j}from"./DYY6KGKq.js";import{o as nt}from"./Bj0C7cyL.js";function ft(c,o,m,g){var n=c.__style;if(et||n!==o){var l=gt(o);(!et||l!==c.getAttribute("style"))&&(l==null?c.removeAttribute("style"):c.style.cssText=l),c.__style=o}return g}var ct=k("<img/>"),pt=k('<img src="https://icon-library.com/images/not-found-icon/not-found-icon-20.jpg" alt="Not Found"/>'),bt=k('<div class="center svelte-zbdee2"><div class="circle svelte-zbdee2"></div></div>');function ht(c,o){V(o,!0);let m=new Image,g=z(!1),n=z(!1),l=z(!1);mt(()=>{m.src!=o.src&&(m.src=o.src,s(g,!0),s(n,!1),s(l,!1))}),nt(()=>{m.onload=()=>{s(g,!1),s(n,!0)},m.onerror=()=>{s(g,!1),s(l,!0)},m.src=o.src});var v=T(),H=C(v);{var D=h=>{var a=ct();B(()=>{K(a,1,Q(o.clazz),"svelte-zbdee2"),j(a,"src",o.src),j(a,"alt",o.src)}),f(h,a)},W=h=>{var a=T(),I=C(a);{var _=e=>{var r=pt();f(e,r)},A=e=>{var r=T(),w=C(r);{var x=p=>{var b=bt();f(p,b)};P(w,p=>{t(g)&&p(x)},!0)}f(e,r)};P(I,e=>{t(l)?e(_):e(A,!1)},!0)}f(h,a)};P(H,h=>{t(n)?h(D):h(W,!1)})}f(c,v),X()}var vt=k('<button><img class="image-preview svelte-e3b7yj"/></button>'),dt=(c,o)=>o.onDismiss(),ut=k('<div class="overlay svelte-e3b7yj"><div></div> <div><!></div> <div class="close svelte-e3b7yj"><button class="close-button svelte-e3b7yj">Close</button></div></div>');function yt(c,o){V(o,!0);let m=z(0),g=z(0),n=i(()=>t(m)<=t(g)),l=i(()=>t(n)?"image-list-portrait":"image-list"),v=i(()=>t(n)?"image-button-portrait":"image-button"),H=i(()=>t(n)?"main-image-portrait":"main-image");var D=T(),W=C(D);{var h=a=>{var I=ut(),_=y(I);rt(_,21,()=>o.imagesData,at,(x,p,b)=>{const S=i(()=>b==o.index?"selected":"");var d=vt();d.__click=M=>o.onSelect(b);var F=y(d);u(d),B(()=>{K(d,1,`${t(v)??""} ${t(S)??""}`,"svelte-e3b7yj"),j(F,"src",t(p).navSrc),j(F,"alt",t(p).navSrc)}),f(x,d)}),u(_);var A=O(_,2),e=y(A);ht(e,{clazz:"main-image-img",get src(){return o.imagesData[o.index].src}}),u(A);var r=O(A,2),w=y(r);w.__click=[dt,o],u(r),u(I),B(()=>{K(_,1,Q(t(l)),"svelte-e3b7yj"),K(A,1,Q(t(H)),"svelte-e3b7yj")}),f(a,I)};P(W,a=>{o.index>=0&&a(h)})}L("innerWidth",a=>s(m,a,!0)),L("innerHeight",a=>s(g,a,!0)),f(c,D),X()}it(["click"]);var _t=k('<div class="image-button-container svelte-w6vyc"><button class="image-button svelte-w6vyc"><img class="svelte-w6vyc"/></button></div>'),At=(c,o)=>s(o,0),wt=k('<div style="width:100%; height:100%; overflow:hidden; display:flex; justify-content: center;"><button class="image-button svelte-w6vyc"><img class="svelte-w6vyc"/></button></div>'),xt=k('<div class="overlay svelte-w6vyc"><!></div> <!>',1);function Ct(c,o){V(o,!0);let m=i(()=>o.imagesData.length),g=z(0),n=z(0),l=i(()=>t(g)<=t(n)),v=z(-1);const H=[[{primaryAspect:"any",images:[{left:0,top:0,right:100,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:50,bottom:100},{left:50,top:0,right:100,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:50},{left:0,top:50,right:100,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:60,bottom:100},{left:60,top:0,right:100,bottom:50},{left:60,top:50,right:100,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:50},{left:0,top:50,right:50,bottom:100},{left:50,top:50,right:100,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:60,bottom:60},{left:60,top:0,right:100,bottom:50},{left:60,top:50,right:100,bottom:100},{left:0,top:60,right:60,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:50},{left:0,top:50,right:50,bottom:100},{left:50,top:50,right:100,bottom:75},{left:50,top:75,right:100,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:60,bottom:60},{left:60,top:0,right:100,bottom:50},{left:60,top:50,right:100,bottom:100},{left:0,top:60,right:30,bottom:100},{left:30,top:60,right:60,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:40},{left:0,top:40,right:50,bottom:75},{left:50,top:65,right:100,bottom:100},{left:0,top:75,right:50,bottom:100},{left:50,top:40,right:100,bottom:65}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:60,bottom:60},{left:0,top:60,right:33,bottom:100},{left:33,top:60,right:67,bottom:100},{left:67,top:60,right:100,bottom:100},{left:60,top:0,right:100,bottom:30},{left:60,top:30,right:100,bottom:60}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:35},{left:0,top:85,right:100,bottom:100},{left:0,top:35,right:50,bottom:65},{left:50,top:55,right:100,bottom:85},{left:0,top:65,right:50,bottom:85},{left:50,top:35,right:100,bottom:55}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:50,bottom:50},{left:0,top:50,right:33,bottom:100},{left:33,top:50,right:67,bottom:100},{left:50,top:0,right:75,bottom:50},{left:75,top:0,right:100,bottom:50},{left:67,top:50,right:100,bottom:75},{left:67,top:75,right:100,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:30},{left:0,top:30,right:40,bottom:80},{left:0,top:80,right:100,bottom:100},{left:40,top:30,right:70,bottom:60},{left:70,top:55,right:100,bottom:80},{left:40,top:60,right:70,bottom:80},{left:70,top:30,right:100,bottom:55}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:50,bottom:40},{left:0,top:40,right:33,bottom:100},{left:33,top:40,right:67,bottom:70},{left:33,top:70,right:67,bottom:100},{left:67,top:40,right:100,bottom:70},{left:67,top:70,right:100,bottom:100},{left:50,top:0,right:75,bottom:40},{left:75,top:0,right:100,bottom:40}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:30},{left:0,top:30,right:40,bottom:70},{left:40,top:30,right:100,bottom:50},{left:0,top:70,right:40,bottom:100},{left:40,top:50,right:75,bottom:75},{left:65,top:75,right:100,bottom:100},{left:75,top:50,right:100,bottom:75},{left:40,top:75,right:65,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:50,bottom:50},{left:0,top:50,right:30,bottom:100},{left:50,top:0,right:100,bottom:30},{left:30,top:50,right:65,bottom:75},{left:30,top:75,right:65,bottom:100},{left:50,top:30,right:65,bottom:50},{left:65,top:30,right:100,bottom:65},{left:65,top:65,right:83,bottom:100},{left:83,top:65,right:100,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:30},{left:0,top:30,right:50,bottom:50},{left:50,top:30,right:100,bottom:50},{left:0,top:50,right:35,bottom:75},{left:65,top:50,right:100,bottom:75},{left:35,top:50,right:65,bottom:75},{left:30,top:75,right:70,bottom:100},{left:0,top:75,right:30,bottom:100},{left:70,top:75,right:100,bottom:100}]}]];function D(){if(t(m)>0&&t(m)<=H.length){let e=H[t(m)-1].find(r=>t(l)&&(r.primaryAspect=="any"||r.primaryAspect=="portrait")||!t(l)&&(r.primaryAspect=="any"||r.primaryAspect=="landscape"));if(e!=null)return e}return{primaryAspect:"any",images:[]}}var W=xt(),h=C(W),a=y(h);{var I=e=>{const r=i(D),w=i(()=>t(l)?t(g)/t(n):t(n)/t(g)),x=i(()=>t(l)?1:t(w)),p=i(()=>t(l)?t(w):1),b=i(()=>.3);var S=T(),d=C(S);rt(d,17,()=>o.imagesData,at,(F,M,q)=>{const N=i(()=>t(r).images[q].left),R=i(()=>t(r).images[q].top),U=i(()=>t(r).images[q].right),E=i(()=>t(r).images[q].bottom),Y=i(()=>t(N)+(t(N)==0||t(N)==100?2:1)*t(b)*t(x)),Z=i(()=>t(R)+(t(R)==0||t(R)==100?2:1)*t(b)*t(p)),lt=i(()=>t(U)-(t(U)==0||t(U)==100?2:1)*t(b)*t(x)),st=i(()=>t(E)-(t(E)==0||t(E)==100?2:1)*t(b)*t(p)),$=i(()=>t(lt)-t(Y)),tt=i(()=>t(st)-t(Z));var J=_t(),G=y(J);G.__click=()=>s(v,q,!0);var ot=y(G);u(G),u(J),B(()=>{ft(J,`position:absolute; left:${t(Y)??""}%; top:${t(Z)??""}%; width:${t($)??""}%; height:${t(tt)??""}%; min-width:${t($)??""}%; min-height:${t(tt)??""}%; overflow:hidden; display:flex; justify-content: center;`),j(ot,"src",t(M).collageSrc),j(ot,"alt",t(M).collageSrc)}),f(F,J)}),f(e,S)},_=e=>{var r=T(),w=C(r);{var x=p=>{var b=wt(),S=y(b);S.__click=[At,v];var d=y(S);u(S),u(b),B(()=>{j(d,"src",o.imagesData[0].collageSrc),j(d,"alt",o.imagesData[0].collageSrc)}),f(p,b)};P(w,p=>{t(m)>0&&p(x)},!0)}f(e,r)};P(a,e=>{D().images.length>0?e(I):e(_,!1)})}u(h);var A=O(h,2);yt(A,{get imagesData(){return o.imagesData},get index(){return t(v)},onSelect:e=>s(v,e,!0),onDismiss:()=>s(v,-1)}),L("innerWidth",e=>s(g,e,!0)),L("innerHeight",e=>s(n,e,!0)),f(c,W),X()}it(["click"]);export{Ct as I};
