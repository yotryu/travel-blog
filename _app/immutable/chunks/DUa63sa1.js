import"./DsnmJJEf.js";import{o as rt,X as R,u as nt,a0 as f,a1 as q,Q as N,S as P,a2 as t,T as n,Y as U,V as x,W as H,Z as y,$ as h,a3 as r,_ as B}from"./DfkLACHH.js";import{d as G,s as at,e as ct}from"./BWD9i4zA.js";import{i as W}from"./DnrpmLhJ.js";import{d as ft,s as O,c as E,b as Q,e as J,i as K,t as lt,f as st}from"./C2NSSTgc.js";import{s as z}from"./DSpFBvKM.js";import{o as pt}from"./ChZtXC9k.js";import{r as vt}from"./C9sDTAPf.js";import{b as ht}from"./D4Z8HUXQ.js";function bt(s,e,b,p){var a=s.__style;if(rt||a!==e){var m=ft(e);(!rt||m!==s.getAttribute("style"))&&(m==null?s.removeAttribute("style"):s.style.cssText=m),s.__style=e}return p}function dt(s,e){return ht+vt(s,e)}var ut=x("<img/>"),_t=x('<img src="https://icon-library.com/images/not-found-icon/not-found-icon-20.jpg" alt="Not Found"/>'),yt=x('<div class="center svelte-zbdee2"><div class="circle svelte-zbdee2"></div></div>');function At(s,e){R(e,!0);let b=new Image,p=q(!1),a=q(!1),m=q(!1);nt(()=>{b.src!=e.src&&(b.src=e.src,f(p,!0),f(a,!1),f(m,!1))}),pt(()=>{b.onload=()=>{f(p,!1),f(a,!0)},b.onerror=()=>{f(p,!1),f(m,!0)},b.src=e.src});var d=N(),D=P(d);{var w=u=>{var l=ut();H(()=>{O(l,1,E(e.clazz),"svelte-zbdee2"),z(l,"src",e.src),z(l,"alt",e.src)}),n(u,l)},C=u=>{var l=N(),I=P(l);{var S=o=>{var i=_t();n(o,i)},g=o=>{var i=N(),j=P(i);{var A=c=>{var v=yt();n(c,v)};W(j,c=>{t(p)&&c(A)},!0)}n(o,i)};W(I,o=>{t(m)?o(S):o(g,!1)},!0)}n(u,l)};W(D,u=>{t(a)?u(w):u(C,!1)})}n(s,d),U()}var wt=x('<button><img class="image-preview svelte-e3b7yj"/></button>'),kt=(s,e)=>e.onDismiss(),xt=x('<div class="overlay svelte-e3b7yj"><div></div> <div><!></div> <div class="close svelte-e3b7yj"><button class="close-button svelte-e3b7yj">Close</button></div></div>');function zt(s,e){R(e,!0);let b=q(0),p=q(0),a=r(()=>t(b)<=t(p)),m=r(()=>t(a)?"image-list-portrait":"image-list"),d=r(()=>t(a)?"image-button-portrait":"image-button"),D=r(()=>t(a)?"main-image-portrait":"main-image");var w=N(),C=P(w);{var u=l=>{var I=xt(),S=y(I);J(S,21,()=>e.imagesData,K,(A,c,v)=>{const k=r(()=>v==e.index?"selected":"");var _=wt();_.__click=F=>e.onSelect(v);var T=y(_);h(_),H(()=>{O(_,1,`${t(d)??""} ${t(k)??""}`,"svelte-e3b7yj"),z(T,"src",t(c).navSrc),z(T,"alt",t(c).navSrc)}),n(A,_)}),h(S);var g=B(S,2),o=y(g);At(o,{clazz:"main-image-img",get src(){return e.imagesData[e.index].src}}),h(g);var i=B(g,2),j=y(i);j.__click=[kt,e],h(i),h(I),H(()=>{O(S,1,E(t(m)),"svelte-e3b7yj"),O(g,1,E(t(D)),"svelte-e3b7yj")}),n(l,I)};W(C,l=>{e.index>=0&&l(u)})}Q("innerWidth",l=>f(b,l,!0)),Q("innerHeight",l=>f(p,l,!0)),n(s,w),U()}G(["click"]);var St=x('<button class="image-button svelte-26eeza"><img class="svelte-26eeza"/></button>'),jt=(s,e)=>f(e,0),Dt=x('<div style="width:100%; height:100%; overflow:hidden; display:flex; justify-content: center;"><button class="image-button svelte-26eeza"><img class="svelte-26eeza"/></button></div>'),It=x('<div class="full-height svelte-26eeza"><!></div> <!>',1);function Ut(s,e){R(e,!0);let b=r(()=>e.imagesData.length),p=q(0),a=q(0),m=r(()=>t(p)<=t(a)),d=q(-1);const D=[[{primaryAspect:"any",images:[{left:0,top:0,right:100,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:50,bottom:100},{left:50,top:0,right:100,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:50},{left:0,top:50,right:100,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:60,bottom:100},{left:60,top:0,right:100,bottom:50},{left:60,top:50,right:100,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:50},{left:0,top:50,right:50,bottom:100},{left:50,top:50,right:100,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:60,bottom:60},{left:60,top:0,right:100,bottom:50},{left:60,top:50,right:100,bottom:100},{left:0,top:60,right:60,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:50},{left:0,top:50,right:50,bottom:100},{left:50,top:50,right:100,bottom:75},{left:50,top:75,right:100,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:60,bottom:60},{left:60,top:0,right:100,bottom:50},{left:60,top:50,right:100,bottom:100},{left:0,top:60,right:30,bottom:100},{left:30,top:60,right:60,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:40},{left:0,top:40,right:50,bottom:75},{left:50,top:65,right:100,bottom:100},{left:0,top:75,right:50,bottom:100},{left:50,top:40,right:100,bottom:65}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:60,bottom:60},{left:0,top:60,right:33,bottom:100},{left:33,top:60,right:67,bottom:100},{left:67,top:60,right:100,bottom:100},{left:60,top:0,right:100,bottom:30},{left:60,top:30,right:100,bottom:60}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:35},{left:0,top:85,right:100,bottom:100},{left:0,top:35,right:50,bottom:65},{left:50,top:55,right:100,bottom:85},{left:0,top:65,right:50,bottom:85},{left:50,top:35,right:100,bottom:55}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:50,bottom:50},{left:0,top:50,right:33,bottom:100},{left:33,top:50,right:67,bottom:100},{left:50,top:0,right:75,bottom:50},{left:75,top:0,right:100,bottom:50},{left:67,top:50,right:100,bottom:75},{left:67,top:75,right:100,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:30},{left:0,top:30,right:40,bottom:80},{left:0,top:80,right:100,bottom:100},{left:40,top:30,right:70,bottom:60},{left:70,top:55,right:100,bottom:80},{left:40,top:60,right:70,bottom:80},{left:70,top:30,right:100,bottom:55}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:50,bottom:40},{left:0,top:40,right:33,bottom:100},{left:33,top:40,right:67,bottom:70},{left:33,top:70,right:67,bottom:100},{left:67,top:40,right:100,bottom:70},{left:67,top:70,right:100,bottom:100},{left:50,top:0,right:75,bottom:40},{left:75,top:0,right:100,bottom:40}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:30},{left:0,top:30,right:40,bottom:70},{left:40,top:30,right:100,bottom:50},{left:0,top:70,right:40,bottom:100},{left:40,top:50,right:75,bottom:75},{left:65,top:75,right:100,bottom:100},{left:75,top:50,right:100,bottom:75},{left:40,top:75,right:65,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:50,bottom:50},{left:0,top:50,right:30,bottom:100},{left:50,top:0,right:100,bottom:30},{left:30,top:50,right:65,bottom:75},{left:30,top:75,right:65,bottom:100},{left:50,top:30,right:65,bottom:50},{left:65,top:30,right:100,bottom:65},{left:65,top:65,right:83,bottom:100},{left:83,top:65,right:100,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:30},{left:0,top:30,right:50,bottom:50},{left:50,top:30,right:100,bottom:50},{left:0,top:50,right:35,bottom:75},{left:65,top:50,right:100,bottom:75},{left:35,top:50,right:65,bottom:75},{left:30,top:75,right:70,bottom:100},{left:0,top:75,right:30,bottom:100},{left:70,top:75,right:100,bottom:100}]}]];function w(){if(t(b)<=D.length){let o=D[t(b)-1].find(i=>t(m)&&(i.primaryAspect=="any"||i.primaryAspect=="portrait")||!t(m)&&(i.primaryAspect=="any"||i.primaryAspect=="landscape"));if(o!=null)return o}return{primaryAspect:"any",images:[]}}var C=It(),u=P(C),l=y(u);{var I=o=>{const i=r(w),j=r(()=>t(m)?t(p)/t(a):t(a)/t(p)),A=r(()=>t(m)?1:t(j)),c=r(()=>t(m)?t(j):1),v=r(()=>.3);var k=N(),_=P(k);J(_,17,()=>e.imagesData,K,(T,F,L)=>{const V=r(()=>t(i).images[L].left),X=r(()=>t(i).images[L].top),Y=r(()=>t(i).images[L].right),Z=r(()=>t(i).images[L].bottom),$=r(()=>t(V)+(t(V)==0||t(V)==100?2:1)*t(v)*t(A)),tt=r(()=>t(X)+(t(X)==0||t(X)==100?2:1)*t(v)*t(c)),mt=r(()=>t(Y)-(t(Y)==0||t(Y)==100?2:1)*t(v)*t(A)),gt=r(()=>t(Z)-(t(Z)==0||t(Z)==100?2:1)*t(v)*t(c)),et=r(()=>t(mt)-t($)),ot=r(()=>t(gt)-t(tt));var M=St();M.__click=()=>f(d,L,!0);var it=y(M);h(M),H(()=>{bt(M,`position:absolute; left:${t($)??""}%; top:${t(tt)??""}%; width:${t(et)??""}%; height:${t(ot)??""}%; min-width:${t(et)??""}%; min-height:${t(ot)??""}%; overflow:hidden; display:flex; justify-content: center;`),z(it,"src",t(F).collageSrc),z(it,"alt",t(F).collageSrc)}),n(T,M)}),n(o,k)},S=o=>{var i=N(),j=P(i);{var A=c=>{var v=Dt(),k=y(v);k.__click=[jt,d];var _=y(k);h(k),h(v),H(()=>{z(_,"src",e.imagesData[0].collageSrc),z(_,"alt",e.imagesData[0].collageSrc)}),n(c,v)};W(j,c=>{t(b)>0&&c(A)},!0)}n(o,i)};W(l,o=>{w().images.length>0?o(I):o(S,!1)})}h(u);var g=B(u,2);zt(g,{get imagesData(){return e.imagesData},get index(){return t(d)},onSelect:o=>f(d,o,!0),onDismiss:()=>f(d,-1)}),Q("innerWidth",o=>f(p,o,!0)),Q("innerHeight",o=>f(a,o,!0)),n(s,C),U()}G(["click"]);var qt=(s,e)=>f(e,!t(e)),Ct=x('<div class="post-div svelte-1m9whnq"><button class="post-button svelte-1m9whnq" data-sveltekit-reload=""><img class="postbg svelte-1m9whnq"/> <a class="posttitle svelte-1m9whnq"> </a></button></div>'),Pt=x('<section><div class="post-container svelte-1m9whnq"></div></section>'),Wt=x('<div class="overlay svelte-1m9whnq"></div>'),Ht=x('<nav><p class="small svelte-1m9whnq"> </p> <!></nav> <!>',1);function Vt(s,e){R(e,!0);const b={delay:100,duration:200},p={delay:0,duration:100};let a=q(!1);var m=Ht(),d=P(m);let D;var w=y(d);w.__click=[qt,a];var C=y(w,!0);h(w);var u=B(w,2);{var l=g=>{var o=Pt(),i=y(o);J(i,21,()=>e.postNavData.collectionPosts,K,(j,A)=>{var c=Ct(),v=y(c),k=y(v),_=B(k,2),T=y(_,!0);h(_),h(v),h(c),H(F=>{z(k,"src",t(A).images[0].navSrc),z(k,"alt",t(A).title),z(_,"href",F),at(T,t(A).title)},[()=>dt(`/post/${t(A).id}`)]),n(j,c)}),h(i),h(o),lt(1,o,()=>st,()=>b),lt(2,o,()=>st,()=>p),n(g,o)};W(u,g=>{t(a)&&g(l)})}h(d);var I=B(d,2);{var S=g=>{var o=Wt();ct("click",o,()=>f(a,!1),!0),n(g,o)};W(I,g=>{t(a)&&g(S)})}H(g=>{D=O(d,1,"svelte-1m9whnq",null,D,g),at(C,e.postNavData.collection.title)},[()=>({expanded:t(a)})]),n(s,m),U()}G(["click"]);export{Ut as I,Vt as P,dt as r};
