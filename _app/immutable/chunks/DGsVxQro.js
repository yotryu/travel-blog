import"./DsnmJJEf.js";import{h as rt,o as R,a3 as nt,w as c,x as C,q as B,t as H,D as t,u as g,v as U,y as k,C as N,n as X,z as y,B as b,F as r,A as F,G as ct}from"./DPC5imJM.js";import{i as W}from"./-YZ5qXee.js";import{g as ft,s as M,c as V,b as O,e as Y,i as Z,r as pt,t as at,f as lt}from"./wQHoaCVF.js";import{s as w}from"./ClhXHhpr.js";import{o as vt,s as st}from"./BuEnLcKF.js";import"./BNCbL0t-.js";function bt(f,e,h,p){var a=f.__style;if(rt||a!==e){var s=ft(e);(!rt||s!==f.getAttribute("style"))&&(s==null?f.removeAttribute("style"):f.style.cssText=s),f.__style=e}return p}var ht=k("<img/>"),dt=k('<img src="https://icon-library.com/images/not-found-icon/not-found-icon-20.jpg" alt="Not Found"/>'),ut=k('<div class="center svelte-zbdee2"><div class="circle svelte-zbdee2"></div></div>');function _t(f,e){R(e,!0);let h=new Image,p=C(!1),a=C(!1),s=C(!1);nt(()=>{h.src!=e.src&&(h.src=e.src,c(p,!0),c(a,!1),c(s,!1))}),vt(()=>{h.onload=()=>{c(p,!1),c(a,!0)},h.onerror=()=>{c(p,!1),c(s,!0)},h.src=e.src});var d=B(),j=H(d);{var z=u=>{var l=ht();N(()=>{M(l,1,V(e.clazz),"svelte-zbdee2"),w(l,"src",e.src),w(l,"alt",e.src)}),g(u,l)},P=u=>{var l=B(),I=H(l);{var S=o=>{var i=dt();g(o,i)},m=o=>{var i=B(),D=H(i);{var A=n=>{var v=ut();g(n,v)};W(D,n=>{t(p)&&n(A)},!0)}g(o,i)};W(I,o=>{t(s)?o(S):o(m,!1)},!0)}g(u,l)};W(j,u=>{t(a)?u(z):u(P,!1)})}g(f,d),U()}var yt=k('<button><img class="image-preview svelte-e3b7yj"/></button>'),At=(f,e)=>e.onDismiss(),zt=k('<div class="overlay svelte-e3b7yj"><div></div> <div><!></div> <div class="close svelte-e3b7yj"><button class="close-button svelte-e3b7yj">Close</button></div></div>');function xt(f,e){R(e,!0);let h=C(0),p=C(0),a=r(()=>t(h)<=t(p)),s=r(()=>t(a)?"image-list-portrait":"image-list"),d=r(()=>t(a)?"image-button-portrait":"image-button"),j=r(()=>t(a)?"main-image-portrait":"main-image");var z=B(),P=H(z);{var u=l=>{var I=zt(),S=y(I);Y(S,21,()=>e.imagesData,Z,(A,n,v)=>{const x=r(()=>v==e.index?"selected":"");var _=yt();_.__click=q=>e.onSelect(v);var T=y(_);b(_),N(()=>{M(_,1,`${t(d)??""} ${t(x)??""}`,"svelte-e3b7yj"),w(T,"src",t(n).navSrc),w(T,"alt",t(n).navSrc)}),g(A,_)}),b(S);var m=F(S,2),o=y(m);_t(o,{clazz:"main-image-img",get src(){return e.imagesData[e.index].src}}),b(m);var i=F(m,2),D=y(i);D.__click=[At,e],b(i),b(I),N(()=>{M(S,1,V(t(s)),"svelte-e3b7yj"),M(m,1,V(t(j)),"svelte-e3b7yj")}),g(l,I)};W(P,l=>{e.index>=0&&l(u)})}O("innerWidth",l=>c(h,l,!0)),O("innerHeight",l=>c(p,l,!0)),g(f,z),U()}X(["click"]);var kt=k('<button class="image-button svelte-26eeza"><img class="svelte-26eeza"/></button>'),wt=(f,e)=>c(e,0),St=k('<div style="width:100%; height:100%; overflow:hidden; display:flex; justify-content: center;"><button class="image-button svelte-26eeza"><img class="svelte-26eeza"/></button></div>'),Dt=k('<div class="full-height svelte-26eeza"><!></div> <!>',1);function Lt(f,e){R(e,!0);let h=r(()=>e.imagesData.length),p=C(0),a=C(0),s=r(()=>t(p)<=t(a)),d=C(-1);const j=[[{primaryAspect:"any",images:[{left:0,top:0,right:100,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:50,bottom:100},{left:50,top:0,right:100,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:50},{left:0,top:50,right:100,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:60,bottom:100},{left:60,top:0,right:100,bottom:50},{left:60,top:50,right:100,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:50},{left:0,top:50,right:50,bottom:100},{left:50,top:50,right:100,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:60,bottom:60},{left:60,top:0,right:100,bottom:50},{left:60,top:50,right:100,bottom:100},{left:0,top:60,right:60,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:50},{left:0,top:50,right:50,bottom:100},{left:50,top:50,right:100,bottom:75},{left:50,top:75,right:100,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:60,bottom:60},{left:60,top:0,right:100,bottom:50},{left:60,top:50,right:100,bottom:100},{left:0,top:60,right:30,bottom:100},{left:30,top:60,right:60,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:40},{left:0,top:40,right:50,bottom:75},{left:50,top:65,right:100,bottom:100},{left:0,top:75,right:50,bottom:100},{left:50,top:40,right:100,bottom:65}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:60,bottom:60},{left:0,top:60,right:33,bottom:100},{left:33,top:60,right:67,bottom:100},{left:67,top:60,right:100,bottom:100},{left:60,top:0,right:100,bottom:30},{left:60,top:30,right:100,bottom:60}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:35},{left:0,top:85,right:100,bottom:100},{left:0,top:35,right:50,bottom:65},{left:50,top:55,right:100,bottom:85},{left:0,top:65,right:50,bottom:85},{left:50,top:35,right:100,bottom:55}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:50,bottom:50},{left:0,top:50,right:33,bottom:100},{left:33,top:50,right:67,bottom:100},{left:50,top:0,right:75,bottom:50},{left:75,top:0,right:100,bottom:50},{left:67,top:50,right:100,bottom:75},{left:67,top:75,right:100,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:30},{left:0,top:30,right:40,bottom:80},{left:0,top:80,right:100,bottom:100},{left:40,top:30,right:70,bottom:60},{left:70,top:55,right:100,bottom:80},{left:40,top:60,right:70,bottom:80},{left:70,top:30,right:100,bottom:55}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:50,bottom:40},{left:0,top:40,right:33,bottom:100},{left:33,top:40,right:67,bottom:70},{left:33,top:70,right:67,bottom:100},{left:67,top:40,right:100,bottom:70},{left:67,top:70,right:100,bottom:100},{left:50,top:0,right:75,bottom:40},{left:75,top:0,right:100,bottom:40}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:30},{left:0,top:30,right:40,bottom:70},{left:40,top:30,right:100,bottom:50},{left:0,top:70,right:40,bottom:100},{left:40,top:50,right:75,bottom:75},{left:65,top:75,right:100,bottom:100},{left:75,top:50,right:100,bottom:75},{left:40,top:75,right:65,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:50,bottom:50},{left:0,top:50,right:30,bottom:100},{left:50,top:0,right:100,bottom:30},{left:30,top:50,right:65,bottom:75},{left:30,top:75,right:65,bottom:100},{left:50,top:30,right:65,bottom:50},{left:65,top:30,right:100,bottom:65},{left:65,top:65,right:83,bottom:100},{left:83,top:65,right:100,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:30},{left:0,top:30,right:50,bottom:50},{left:50,top:30,right:100,bottom:50},{left:0,top:50,right:35,bottom:75},{left:65,top:50,right:100,bottom:75},{left:35,top:50,right:65,bottom:75},{left:30,top:75,right:70,bottom:100},{left:0,top:75,right:30,bottom:100},{left:70,top:75,right:100,bottom:100}]}]];function z(){if(t(h)<=j.length){let o=j[t(h)-1].find(i=>t(s)&&(i.primaryAspect=="any"||i.primaryAspect=="portrait")||!t(s)&&(i.primaryAspect=="any"||i.primaryAspect=="landscape"));if(o!=null)return o}return{primaryAspect:"any",images:[]}}var P=Dt(),u=H(P),l=y(u);{var I=o=>{const i=r(z),D=r(()=>t(s)?t(p)/t(a):t(a)/t(p)),A=r(()=>t(s)?1:t(D)),n=r(()=>t(s)?t(D):1),v=r(()=>.3);var x=B(),_=H(x);Y(_,17,()=>e.imagesData,Z,(T,q,G)=>{const E=r(()=>t(i).images[G].left),J=r(()=>t(i).images[G].top),K=r(()=>t(i).images[G].right),Q=r(()=>t(i).images[G].bottom),$=r(()=>t(E)+(t(E)==0||t(E)==100?2:1)*t(v)*t(A)),tt=r(()=>t(J)+(t(J)==0||t(J)==100?2:1)*t(v)*t(n)),mt=r(()=>t(K)-(t(K)==0||t(K)==100?2:1)*t(v)*t(A)),gt=r(()=>t(Q)-(t(Q)==0||t(Q)==100?2:1)*t(v)*t(n)),et=r(()=>t(mt)-t($)),ot=r(()=>t(gt)-t(tt));var L=kt();L.__click=()=>c(d,G,!0);var it=y(L);b(L),N(()=>{bt(L,`position:absolute; left:${t($)??""}%; top:${t(tt)??""}%; width:${t(et)??""}%; height:${t(ot)??""}%; min-width:${t(et)??""}%; min-height:${t(ot)??""}%; overflow:hidden; display:flex; justify-content: center;`),w(it,"src",t(q).collageSrc),w(it,"alt",t(q).collageSrc)}),g(T,L)}),g(o,x)},S=o=>{var i=B(),D=H(i);{var A=n=>{var v=St(),x=y(v);x.__click=[wt,d];var _=y(x);b(x),b(v),N(()=>{w(_,"src",e.imagesData[0].collageSrc),w(_,"alt",e.imagesData[0].collageSrc)}),g(n,v)};W(D,n=>{t(h)>0&&n(A)},!0)}g(o,i)};W(l,o=>{z().images.length>0?o(I):o(S,!1)})}b(u);var m=F(u,2);xt(m,{get imagesData(){return e.imagesData},get index(){return t(d)},onSelect:o=>c(d,o,!0),onDismiss:()=>c(d,-1)}),O("innerWidth",o=>c(p,o,!0)),O("innerHeight",o=>c(a,o,!0)),g(f,P),U()}X(["click"]);var jt=(f,e)=>c(e,!t(e)),It=k('<div class="post-div svelte-nim9zo"><button class="post-button svelte-nim9zo" data-sveltekit-reload=""><img class="postbg svelte-nim9zo"/> <a class="posttitle svelte-nim9zo"> </a></button></div>'),Ct=k('<section><div class="post-container svelte-nim9zo"></div></section>'),Pt=k('<div class="overlay svelte-nim9zo"></div>'),Ht=k('<nav><p class="small svelte-nim9zo"> </p> <!></nav> <!>',1);function Mt(f,e){R(e,!0);const h={delay:100,duration:200},p={delay:0,duration:100};let a=C(!1);var s=Ht(),d=H(s);let j;var z=y(d);z.__click=[jt,a];var P=y(z,!0);b(z);var u=F(z,2);{var l=m=>{var o=Ct(),i=y(o);Y(i,21,()=>e.postNavData.collectionPosts,Z,(D,A)=>{var n=It(),v=y(n),x=y(v),_=F(x,2),T=y(_,!0);b(_),b(v),b(n),N(q=>{w(x,"src",t(A).images[0].navSrc),w(x,"alt",t(A).title),w(_,"href",q),st(T,t(A).title)},[()=>pt(`/post/${t(A).id}`)]),g(D,n)}),b(i),b(o),at(1,o,()=>lt,()=>h),at(2,o,()=>lt,()=>p),g(m,o)};W(u,m=>{t(a)&&m(l)})}b(d);var I=F(d,2);{var S=m=>{var o=Pt();ct("click",o,()=>c(a,!1),!0),g(m,o)};W(I,m=>{t(a)&&m(S)})}N(m=>{j=M(d,1,"svelte-nim9zo",null,j,m),st(P,e.postNavData.collection.title)},[()=>({expanded:t(a)})]),g(f,s),U()}X(["click"]);export{Lt as I,Mt as P};
