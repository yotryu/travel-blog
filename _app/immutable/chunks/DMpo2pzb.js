import"./DsnmJJEf.js";import{o as it,a4 as U,u as nt,ab as c,ac as q,a8 as T,a9 as P,ai as t,aa as g,a6 as E,ad as x,ah as W,a7 as X,ae as y,ag as h,aj as i,af as B,ak as ct}from"./D0Tqtvqu.js";import{i as H}from"./66sMBkVr.js";import{g as ft,s as O,c as V,b as R,e as Y,i as Z,r as pt,t as rt,f as lt}from"./BESci3ua.js";import{s as z}from"./CNeiFLmu.js";import{o as vt}from"./CURQnM0a.js";import{s as st}from"./C56lN8Ia.js";import"./CN5NTfs8.js";function ht(f,e,b,p){var r=f.__style;if(it||r!==e){var s=ft(e);(!it||s!==f.getAttribute("style"))&&(s==null?f.removeAttribute("style"):f.style.cssText=s),f.__style=e}return p}var bt=x("<img/>"),dt=x('<img src="https://icon-library.com/images/not-found-icon/not-found-icon-20.jpg" alt="Not Found"/>'),ut=x('<div class="center svelte-zbdee2"><div class="circle svelte-zbdee2"></div></div>');function _t(f,e){U(e,!0);let b=new Image,p=q(!1),r=q(!1),s=q(!1);nt(()=>{b.src!=e.src&&(b.src=e.src,c(p,!0),c(r,!1),c(s,!1))}),vt(()=>{b.onload=()=>{c(p,!1),c(r,!0)},b.onerror=()=>{c(p,!1),c(s,!0)},b.src=e.src});var d=T(),D=P(d);{var w=u=>{var l=bt();W(()=>{O(l,1,V(e.clazz),"svelte-zbdee2"),z(l,"src",e.src),z(l,"alt",e.src)}),g(u,l)},C=u=>{var l=T(),I=P(l);{var S=o=>{var a=dt();g(o,a)},m=o=>{var a=T(),j=P(a);{var A=n=>{var v=ut();g(n,v)};H(j,n=>{t(p)&&n(A)},!0)}g(o,a)};H(I,o=>{t(s)?o(S):o(m,!1)},!0)}g(u,l)};H(D,u=>{t(r)?u(w):u(C,!1)})}g(f,d),E()}var yt=x('<button><img class="image-preview svelte-e3b7yj"/></button>'),At=(f,e)=>e.onDismiss(),wt=x('<div class="overlay svelte-e3b7yj"><div></div> <div><!></div> <div class="close svelte-e3b7yj"><button class="close-button svelte-e3b7yj">Close</button></div></div>');function kt(f,e){U(e,!0);let b=q(0),p=q(0),r=i(()=>t(b)<=t(p)),s=i(()=>t(r)?"image-list-portrait":"image-list"),d=i(()=>t(r)?"image-button-portrait":"image-button"),D=i(()=>t(r)?"main-image-portrait":"main-image");var w=T(),C=P(w);{var u=l=>{var I=wt(),S=y(I);Y(S,21,()=>e.imagesData,Z,(A,n,v)=>{const k=i(()=>v==e.index?"selected":"");var _=yt();_.__click=F=>e.onSelect(v);var N=y(_);h(_),W(()=>{O(_,1,`${t(d)??""} ${t(k)??""}`,"svelte-e3b7yj"),z(N,"src",t(n).navSrc),z(N,"alt",t(n).navSrc)}),g(A,_)}),h(S);var m=B(S,2),o=y(m);_t(o,{clazz:"main-image-img",get src(){return e.imagesData[e.index].src}}),h(m);var a=B(m,2),j=y(a);j.__click=[At,e],h(a),h(I),W(()=>{O(S,1,V(t(s)),"svelte-e3b7yj"),O(m,1,V(t(D)),"svelte-e3b7yj")}),g(l,I)};H(C,l=>{e.index>=0&&l(u)})}R("innerWidth",l=>c(b,l,!0)),R("innerHeight",l=>c(p,l,!0)),g(f,w),E()}X(["click"]);var xt=x('<button class="image-button svelte-26eeza"><img class="svelte-26eeza"/></button>'),zt=(f,e)=>c(e,0),St=x('<div style="width:100%; height:100%; overflow:hidden; display:flex; justify-content: center;"><button class="image-button svelte-26eeza"><img class="svelte-26eeza"/></button></div>'),jt=x('<div class="full-height svelte-26eeza"><!></div> <!>',1);function Ot(f,e){U(e,!0);let b=i(()=>e.imagesData.length),p=q(0),r=q(0),s=i(()=>t(p)<=t(r)),d=q(-1);const D=[[{primaryAspect:"any",images:[{left:0,top:0,right:100,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:50,bottom:100},{left:50,top:0,right:100,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:50},{left:0,top:50,right:100,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:60,bottom:100},{left:60,top:0,right:100,bottom:50},{left:60,top:50,right:100,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:50},{left:0,top:50,right:50,bottom:100},{left:50,top:50,right:100,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:60,bottom:60},{left:60,top:0,right:100,bottom:50},{left:60,top:50,right:100,bottom:100},{left:0,top:60,right:60,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:50},{left:0,top:50,right:50,bottom:100},{left:50,top:50,right:100,bottom:75},{left:50,top:75,right:100,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:60,bottom:60},{left:60,top:0,right:100,bottom:50},{left:60,top:50,right:100,bottom:100},{left:0,top:60,right:30,bottom:100},{left:30,top:60,right:60,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:40},{left:0,top:40,right:50,bottom:75},{left:50,top:65,right:100,bottom:100},{left:0,top:75,right:50,bottom:100},{left:50,top:40,right:100,bottom:65}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:60,bottom:60},{left:0,top:60,right:33,bottom:100},{left:33,top:60,right:67,bottom:100},{left:67,top:60,right:100,bottom:100},{left:60,top:0,right:100,bottom:30},{left:60,top:30,right:100,bottom:60}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:35},{left:0,top:85,right:100,bottom:100},{left:0,top:35,right:50,bottom:65},{left:50,top:55,right:100,bottom:85},{left:0,top:65,right:50,bottom:85},{left:50,top:35,right:100,bottom:55}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:50,bottom:50},{left:0,top:50,right:33,bottom:100},{left:33,top:50,right:67,bottom:100},{left:50,top:0,right:75,bottom:50},{left:75,top:0,right:100,bottom:50},{left:67,top:50,right:100,bottom:75},{left:67,top:75,right:100,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:30},{left:0,top:30,right:40,bottom:80},{left:0,top:80,right:100,bottom:100},{left:40,top:30,right:70,bottom:60},{left:70,top:55,right:100,bottom:80},{left:40,top:60,right:70,bottom:80},{left:70,top:30,right:100,bottom:55}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:50,bottom:40},{left:0,top:40,right:33,bottom:100},{left:33,top:40,right:67,bottom:70},{left:33,top:70,right:67,bottom:100},{left:67,top:40,right:100,bottom:70},{left:67,top:70,right:100,bottom:100},{left:50,top:0,right:75,bottom:40},{left:75,top:0,right:100,bottom:40}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:30},{left:0,top:30,right:40,bottom:70},{left:40,top:30,right:100,bottom:50},{left:0,top:70,right:40,bottom:100},{left:40,top:50,right:75,bottom:75},{left:65,top:75,right:100,bottom:100},{left:75,top:50,right:100,bottom:75},{left:40,top:75,right:65,bottom:100}]}],[{primaryAspect:"landscape",images:[{left:0,top:0,right:50,bottom:50},{left:0,top:50,right:30,bottom:100},{left:50,top:0,right:100,bottom:30},{left:30,top:50,right:65,bottom:75},{left:30,top:75,right:65,bottom:100},{left:50,top:30,right:65,bottom:50},{left:65,top:30,right:100,bottom:65},{left:65,top:65,right:83,bottom:100},{left:83,top:65,right:100,bottom:100}]},{primaryAspect:"portrait",images:[{left:0,top:0,right:100,bottom:30},{left:0,top:30,right:50,bottom:50},{left:50,top:30,right:100,bottom:50},{left:0,top:50,right:35,bottom:75},{left:65,top:50,right:100,bottom:75},{left:35,top:50,right:65,bottom:75},{left:30,top:75,right:70,bottom:100},{left:0,top:75,right:30,bottom:100},{left:70,top:75,right:100,bottom:100}]}]];function w(){if(t(b)<=D.length){let o=D[t(b)-1].find(a=>t(s)&&(a.primaryAspect=="any"||a.primaryAspect=="portrait")||!t(s)&&(a.primaryAspect=="any"||a.primaryAspect=="landscape"));if(o!=null)return o}return{primaryAspect:"any",images:[]}}var C=jt(),u=P(C),l=y(u);{var I=o=>{const a=i(w),j=i(()=>t(s)?t(p)/t(r):t(r)/t(p)),A=i(()=>t(s)?1:t(j)),n=i(()=>t(s)?t(j):1),v=i(()=>.3);var k=T(),_=P(k);Y(_,17,()=>e.imagesData,Z,(N,F,L)=>{const G=i(()=>t(a).images[L].left),J=i(()=>t(a).images[L].top),K=i(()=>t(a).images[L].right),Q=i(()=>t(a).images[L].bottom),$=i(()=>t(G)+(t(G)==0||t(G)==100?2:1)*t(v)*t(A)),tt=i(()=>t(J)+(t(J)==0||t(J)==100?2:1)*t(v)*t(n)),mt=i(()=>t(K)-(t(K)==0||t(K)==100?2:1)*t(v)*t(A)),gt=i(()=>t(Q)-(t(Q)==0||t(Q)==100?2:1)*t(v)*t(n)),et=i(()=>t(mt)-t($)),ot=i(()=>t(gt)-t(tt));var M=xt();M.__click=()=>c(d,L,!0);var at=y(M);h(M),W(()=>{ht(M,`position:absolute; left:${t($)??""}%; top:${t(tt)??""}%; width:${t(et)??""}%; height:${t(ot)??""}%; min-width:${t(et)??""}%; min-height:${t(ot)??""}%; overflow:hidden; display:flex; justify-content: center;`),z(at,"src",t(F).collageSrc),z(at,"alt",t(F).collageSrc)}),g(N,M)}),g(o,k)},S=o=>{var a=T(),j=P(a);{var A=n=>{var v=St(),k=y(v);k.__click=[zt,d];var _=y(k);h(k),h(v),W(()=>{z(_,"src",e.imagesData[0].collageSrc),z(_,"alt",e.imagesData[0].collageSrc)}),g(n,v)};H(j,n=>{t(b)>0&&n(A)},!0)}g(o,a)};H(l,o=>{w().images.length>0?o(I):o(S,!1)})}h(u);var m=B(u,2);kt(m,{get imagesData(){return e.imagesData},get index(){return t(d)},onSelect:o=>c(d,o,!0),onDismiss:()=>c(d,-1)}),R("innerWidth",o=>c(p,o,!0)),R("innerHeight",o=>c(r,o,!0)),g(f,C),E()}X(["click"]);var Dt=(f,e)=>c(e,!t(e)),It=x('<div class="post-div svelte-1m9whnq"><button class="post-button svelte-1m9whnq" data-sveltekit-reload=""><img class="postbg svelte-1m9whnq"/> <a class="posttitle svelte-1m9whnq"> </a></button></div>'),qt=x('<section><div class="post-container svelte-1m9whnq"></div></section>'),Ct=x('<div class="overlay svelte-1m9whnq"></div>'),Pt=x('<nav><p class="small svelte-1m9whnq"> </p> <!></nav> <!>',1);function Rt(f,e){U(e,!0);const b={delay:100,duration:200},p={delay:0,duration:100};let r=q(!1);var s=Pt(),d=P(s);let D;var w=y(d);w.__click=[Dt,r];var C=y(w,!0);h(w);var u=B(w,2);{var l=m=>{var o=qt(),a=y(o);Y(a,21,()=>e.postNavData.collectionPosts,Z,(j,A)=>{var n=It(),v=y(n),k=y(v),_=B(k,2),N=y(_,!0);h(_),h(v),h(n),W(F=>{z(k,"src",t(A).images[0].navSrc),z(k,"alt",t(A).title),z(_,"href",F),st(N,t(A).title)},[()=>pt(`/post/${t(A).id}`)]),g(j,n)}),h(a),h(o),rt(1,o,()=>lt,()=>b),rt(2,o,()=>lt,()=>p),g(m,o)};H(u,m=>{t(r)&&m(l)})}h(d);var I=B(d,2);{var S=m=>{var o=Ct();ct("click",o,()=>c(r,!1),!0),g(m,o)};H(I,m=>{t(r)&&m(S)})}W(m=>{D=O(d,1,"svelte-1m9whnq",null,D,m),st(C,e.postNavData.collection.title)},[()=>({expanded:t(r)})]),g(f,s),E()}X(["click"]);export{Ot as I,Rt as P};
