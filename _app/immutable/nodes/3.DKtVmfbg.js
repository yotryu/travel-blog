import"../chunks/DsnmJJEf.js";import{X,Q as Y,S as I,T as k,Y as Z,Z as x,_ as w,V as O,$ as h,a0 as P,a1 as c,W,a2 as s,a3 as z}from"../chunks/Dze4g4ta.js";import{d as q,s as j,e as A}from"../chunks/DF_zWeyH.js";import{i as B}from"../chunks/CtziAB5_.js";import{b as D,e as F,s as G,c as J,t as K,f as L,i as N,r as R}from"../chunks/D1lYM9xP.js";import{s as H}from"../chunks/COkbwAcS.js";import"../chunks/DYRJWDZm.js";import"../chunks/DJL-LwrO.js";const U=async({fetch:v,params:a})=>{let l=(await(await v("/collections/all.json")).json()).find(o=>o.id==a.slug);if(!l)return{collection:null,collectionPosts:null};let r=[],d=[];return l.posts.forEach(o=>{let t=v(`/posts/${o}.json`).then(e=>e.json()).then(e=>(r.push(e),e));d.push(t)}),await Promise.all(d),r=r.sort((o,m)=>{let t=l.posts.findIndex(i=>i==o.id),e=l.posts.findIndex(i=>i==m.id);return t>e?1:e>t?-1:0}),{collection:l,collectionPosts:r}},vt=Object.freeze(Object.defineProperty({__proto__:null,load:U},Symbol.toStringTag,{value:"Module"}));var $=(v,a)=>window.location.assign(R(`/post/${s(a).id}`)),tt=O('<button><img class="svelte-v0khht"/> <h4 class="title overlay-bottom svelte-v0khht"> </h4></button>'),et=O('<div class="overlay svelte-v0khht"></div> <div class="header svelte-v0khht"><h1 class="title svelte-v0khht"> </h1> <h3 class="small svelte-v0khht"> </h3></div>',1);function dt(v,a){X(a,!0);let _=w(0),p=w(0),y=z(()=>s(_)<=s(p)),l=z(()=>s(y)?"image-button-portrait":"image-button"),r=w(-1);var d=Y(),o=I(d);{var m=t=>{var e=et(),i=I(e);F(i,21,()=>a.data.collectionPosts,N,(M,u,Q)=>{var n=tt();n.__click=[$,u];var g=h(n),b=P(g,2),V=h(b,!0);c(b),c(n),W(()=>{G(n,1,J(s(l)),"svelte-v0khht"),H(g,"src",s(u).images[0].collageSrc),H(g,"alt",s(u).images[0].collageSrc),j(V,s(u).title)}),A("mouseenter",n,()=>x(r,Q,!0)),K(3,b,()=>L),k(M,n)}),c(i);var S=P(i,2),f=h(S),T=h(f,!0);c(f);var C=P(f,2),E=h(C,!0);c(C),c(S),W(()=>{j(T,a.data.collection.title),j(E,a.data.collection.subtitle)}),k(t,e)};B(o,t=>{a.data.collection&&t(m)})}D("innerWidth",t=>x(_,t,!0)),D("innerHeight",t=>x(p,t,!0)),k(v,d),Z()}q(["click"]);export{dt as component,vt as universal};
