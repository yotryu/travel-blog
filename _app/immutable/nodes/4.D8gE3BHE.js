import"../chunks/DsnmJJEf.js";import{l as ct,m as pt,n as j,o as ut,v as y,w as P,x as _t,y as d,u as a,z as t,K as n,A as e,t as B,q as A,B as gt}from"../chunks/DqVZNpwN.js";import{s as k}from"../chunks/BWE3rs_R.js";import{i as K}from"../chunks/CMLcb2m1.js";import{b as Y,e as mt,i as ft,s as Z,t as $,a as tt}from"../chunks/BHdDEesX.js";import{s as z}from"../chunks/Duc2o9yF.js";import{r as et}from"../chunks/Qe8SkSPt.js";import{I as wt}from"../chunks/DBrIpZCh.js";import{P as ht}from"../chunks/CC3vy2vH.js";const bt=async({fetch:w,params:s})=>{let C=`/posts/${s.slug}.json`,i=await(await w(C)).json();i.contentParagraphs=i.content.split(`
`),i.id=s.slug;let _=(await(await w("/collections/all.json")).json()).find(f=>f.id==i.collection);_||(_={id:"unknown",posts:[],title:"Unknown",parent:""});let h=[],m=[];return _?.posts.forEach(f=>{let b=w(`/posts/${f}.json`).then(l=>l.json()).then(l=>(h.push(l),l));m.push(b)}),await Promise.all(m),h=h.sort((f,I)=>{let b=_.posts.findIndex(g=>g==f.id),l=_.posts.findIndex(g=>g==I.id);return b>l?1:l>b?-1:0}),{post:i,collection:_,collectionPosts:h}},Wt=Object.freeze(Object.defineProperty({__proto__:null,load:bt},Symbol.toStringTag,{value:"Module"}));var xt=j("<p> </p>"),yt=j('<button class="nav-button-prev svelte-1rtdw60" data-sveltekit-reload=""><img class="nav-bg svelte-1rtdw60" alt="prev"/> <a class="nav-title-prev svelte-1rtdw60">&lt; Previous<br/> </a></button>'),Pt=j('<button class="nav-button-next svelte-1rtdw60" data-sveltekit-reload=""><img class="nav-bg svelte-1rtdw60" alt="prev"/> <a class="nav-title-next svelte-1rtdw60">Next &gt;<br/> </a></button>'),kt=j('<div class="overlay svelte-1rtdw60"><div><div class="content svelte-1rtdw60"></div> <div data-sveltekit-reload="" class="svelte-1rtdw60"><table style="width:100%; margin-top:8px;"><tbody><tr><td style="width:50%"><!></td><td style="width:50%; text-align:right;"><!></td></tr></tbody></table></div></div></div>'),jt=(w,s)=>A(s,!0),Ct=j("<div> </div>"),Dt=j('<!> <div class="header svelte-1rtdw60"><h1 class="title svelte-1rtdw60"> </h1> <p class="small svelte-1rtdw60"> </p></div> <!> <!>',1);function qt(w,s){pt(s,!0);let C=B(0),D=B(0),i=n(()=>t(C)<=t(D)),M=n(()=>t(C)/t(D)>=2),E=n(()=>t(i)?{duration:200,y:100,opactiy:0}:{duration:200,x:100,opacity:0}),_=n(()=>t(i)?"content-container-portrait":"content-container"),h=n(()=>t(i)?"edge-container-portrait":"edge-container"),m=B(!1),f=n(()=>t(m)?t(i)?"expanded-portrait":t(M)?"expanded-ultrawide":"expanded":""),I=n(()=>t(i)?"↑":"←"),b=n(()=>s.data.post.images),l=n(()=>s.data.collectionPosts.findIndex(r=>r.id==s.data.post.id)),g=n(()=>t(l)>0?s.data.collectionPosts[t(l)-1]:null),S=n(()=>t(l)<s.data.collectionPosts.length-1&&t(l)>=0?s.data.collectionPosts[t(l)+1]:null);var T=Dt(),F=ut(T);wt(F,{get imagesData(){return t(b)}});var H=d(F,2),N=a(H),at=a(N,!0);e(N);var G=d(N,2),st=a(G,!0);e(G),e(H);var J=d(H,2);{var lt=r=>{var o=kt(),x=a(o),O=a(x);mt(O,21,()=>s.data.post.contentParagraphs,ft,(v,c)=>{var p=xt(),u=a(p,!0);e(p),y(()=>k(u,t(c))),P(v,p)}),e(O);var L=d(O,2),Q=a(L),R=a(Q),V=a(R),U=a(V),ot=a(U);{var nt=v=>{var c=yt(),p=a(c),u=d(p,2),W=d(a(u),2,!0);e(u),e(c),y(q=>{z(p,"src",t(g).images[0].navSrc),z(u,"href",q),k(W,t(g).title)},[()=>et(`/post/${t(g).id}`)]),P(v,c)};K(ot,v=>{t(g)!=null&&v(nt)})}e(U);var X=d(U),dt=a(X);{var vt=v=>{var c=Pt(),p=a(c),u=d(p,2),W=d(a(u),2,!0);e(u),e(c),y(q=>{z(p,"src",t(S).images[0].navSrc),z(u,"href",q),k(W,t(S).title)},[()=>et(`/post/${t(S).id}`)]),P(v,c)};K(dt,v=>{t(S)!=null&&v(vt)})}e(X),e(V),e(R),e(Q),e(L),e(x),e(o),y(()=>Z(x,1,`${t(_)??""} ${t(f)??""}`,"svelte-1rtdw60")),gt("click",o,()=>A(m,!1),!0),$(3,x,()=>tt,()=>t(E)),P(r,o)},rt=r=>{var o=Ct();o.__click=[jt,m];var x=a(o,!0);e(o),y(()=>{Z(o,1,t(h),"svelte-1rtdw60"),k(x,t(I))}),$(3,o,()=>tt,()=>t(E)),P(r,o)};K(J,r=>{t(m)?r(lt):r(rt,!1)})}var it=d(J,2);ht(it,{get postNavData(){return s.data}}),y(()=>{k(at,s.data.post.title),k(st,s.data.post.date)}),Y("innerWidth",r=>A(C,r,!0)),Y("innerHeight",r=>A(D,r,!0)),P(w,T),_t()}ct(["click"]);export{qt as component,Wt as universal};
