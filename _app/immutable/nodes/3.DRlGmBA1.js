import"../chunks/DsnmJJEf.js";import{n as G,o as M,q as T,t as z,u as x,v as J,w,x as P,y as W,z as m,A as y,B as c,C as D,D as s,F as I,G as K}from"../chunks/DPC5imJM.js";import{s as j}from"../chunks/BuEnLcKF.js";import{i as L}from"../chunks/-YZ5qXee.js";import{b as H,e as N,s as Q,c as R,t as U,f as V,i as X,r as Y}from"../chunks/wQHoaCVF.js";import{s as O}from"../chunks/ClhXHhpr.js";import"../chunks/BNCbL0t-.js";import"../chunks/DGsVxQro.js";const Z=async({fetch:d,params:a})=>{let l=(await(await d("/collections/all.json")).json()).find(o=>o.id==a.slug);if(!l)return{collection:null,collectionPosts:null};let n=[],v=[];return l.posts.forEach(o=>{let t=d(`/posts/${o}.json`).then(e=>e.json()).then(e=>(n.push(e),e));v.push(t)}),await Promise.all(v),n=n.sort((o,u)=>{let t=l.posts.findIndex(i=>i==o.id),e=l.posts.findIndex(i=>i==u.id);return t>e?1:e>t?-1:0}),{collection:l,collectionPosts:n}},dt=Object.freeze(Object.defineProperty({__proto__:null,load:Z},Symbol.toStringTag,{value:"Module"}));var $=(d,a)=>window.location.assign(Y(`/post/${s(a).id}`)),tt=W('<button><img class="svelte-1nb0xne"/> <h4 class="title overlay-bottom svelte-1nb0xne"> </h4></button>'),et=W('<div class="overlay svelte-1nb0xne"></div> <div class="header svelte-1nb0xne"><h1 class="title svelte-1nb0xne"> </h1> <h3 class="small svelte-1nb0xne"> </h3></div>',1);function vt(d,a){M(a,!0);let _=P(0),p=P(0),C=I(()=>s(_)<=s(p)),l=I(()=>s(C)?"image-button-portrait":"image-button"),n=P(-1);var v=T(),o=z(v);{var u=t=>{var e=et(),i=z(e);N(i,21,()=>a.data.collectionPosts,X,(B,h,E)=>{var r=tt();r.__click=[$,h];var f=m(r),g=y(f,2),F=m(g,!0);c(g),c(r),D(()=>{Q(r,1,R(s(l)),"svelte-1nb0xne"),O(f,"src",s(h).images[0].collageSrc),O(f,"alt",s(h).images[0].collageSrc),j(F,s(h).title)}),K("mouseenter",r,()=>w(n,E,!0)),U(3,g,()=>V),x(B,r)}),c(i);var k=y(i,2),b=m(k),q=m(b,!0);c(b);var S=y(b,2),A=m(S,!0);c(S),c(k),D(()=>{j(q,a.data.collection.title),j(A,a.data.collection.subtitle)}),x(t,e)};L(o,t=>{a.data.collection&&t(u)})}H("innerWidth",t=>w(_,t,!0)),H("innerHeight",t=>w(p,t,!0)),x(d,v),J()}G(["click"]);export{vt as component,dt as universal};
