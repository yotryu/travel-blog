import"../chunks/DsnmJJEf.js";import{o as Pt,s as it}from"../chunks/Bj0C7cyL.js";import{l as jt,m as At,t as d,aj as st,n as h,B as nt,o as W,q as l,y as u,v as j,w as f,x as Et,u as n,A as t,ak as Zt,z as s,K as G,J as Ot}from"../chunks/3YxIYkGD.js";import{i as T}from"../chunks/Q7Ihw9sr.js";import{b as It,t as P,e as Xt,f as O,a as xt,s as qt,c as Bt,i as Nt}from"../chunks/CdInxDoI.js";import{s as S,r as Wt,a as Gt}from"../chunks/DYY6KGKq.js";import{r as Jt}from"../chunks/DB1smcEB.js";const Kt=async({fetch:b,params:o})=>{let A=await(await b("/collections/all.json")).json();return A=A.sort((K,p)=>K.sortDate.localeCompare(p.sortDate)).reverse(),{collections:A}},he=Object.freeze(Object.defineProperty({__proto__:null,load:Kt},Symbol.toStringTag,{value:"Module"})),kt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!--%20Generated%20by%20Pixelmator%20Pro%203.7%20--%3e%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='Path'%20fill='none'%20stroke='none'%20d='M%200%200%20L%2048%200%20L%2048%2048%20L%200%2048%20Z'/%3e%3cpath%20id='path1'%20fill='%23ffffff'%20stroke='none'%20d='M%2020%2016%20L%2020%2032%20L%2030%2024%20L%2020%2016%20Z%20M%2038%206%20L%2010%206%20C%207.79%206%206%207.790001%206%2010%20L%206%2038%20C%206%2040.209999%207.79%2042%2010%2042%20L%2038%2042%20C%2040.209999%2042%2042%2040.209999%2042%2038%20L%2042%2010%20C%2042%207.790001%2040.209999%206%2038%206%20Z%20M%2038%2038%20L%2010%2038%20L%2010%2010%20L%2038%2010%20L%2038%2038%20Z'/%3e%3c/svg%3e";var Ut=h('<div class="overlay svelte-1i2ltob"><img class="collection-image svelte-1i2ltob"/></div>'),Qt=h('<div class="overlay svelte-1i2ltob"><img class="collection-image svelte-1i2ltob"/></div>'),Rt=h('<div class="collection-page svelte-1i2ltob" id="image-root"><!> <div class="header svelte-1i2ltob" data-sveltekit-reload=""><h1 class="title svelte-1i2ltob"><a class="svelte-1i2ltob"> </a></h1> <h3 class="small svelte-1i2ltob"> </h3></div></div>'),Vt=(b,o)=>l(o,!0),Yt=h('<button class="tab-bottom svelte-1i2ltob">^</button>'),$t=h('<div class="collection-div svelte-1i2ltob"><button class="collection-button svelte-1i2ltob"><img loading="lazy"/> <p class="small collection-title svelte-1i2ltob"> </p></button></div>'),te=h('<div class="collection-popup svelte-1i2ltob"><div class="collection-container svelte-1i2ltob"></div></div>'),ee=h('<div class="overlay svelte-1i2ltob"></div>'),ae=(b,o)=>l(o,!0),le=(b,o)=>l(o,Number(b.target.value?b.target.value:10),!0),oe=(b,o)=>o(!0),ie=(b,o)=>o(!1),se=h('<div class="settings-option svelte-1i2ltob"><p class="inline-text settings-no-margins svelte-1i2ltob">Image duration</p> <input class="settings-input svelte-1i2ltob" type="number" min="5" max="600" step="1" size="5"/></div> <div class="settings-option svelte-1i2ltob"><button class="text-button settings-full-width svelte-1i2ltob">This Collection</button></div> <div class="settings-option svelte-1i2ltob"><button class="text-button settings-full-width svelte-1i2ltob">All Collections</button></div>',1),ne=(b,o)=>o(),re=h('<div class="settings-option svelte-1i2ltob"><button class="text-button settings-full-width svelte-1i2ltob">Stop</button></div>'),ce=h('<div class="overlay svelte-1i2ltob"></div>  <div class="settings-container svelte-1i2ltob"><h4 class="settings-title">Slideshow</h4> <!></div>',1),ve=h('<div class="overlay svelte-1i2ltob"><!> <!></div> <!> <!> <button class="settings-button svelte-1i2ltob"><img class="settings-button-image svelte-1i2ltob"/></button> <!>',1);function pe(b,o){At(o,!0);function rt(e,a){let i=[...e],g=null;a!=null&&a>=0&&a<e.length&&(g=i.splice(a,1));for(var r=i.length-1;r>0;r--){var k=Math.floor(Math.random()*(r+1)),H=i[r];i[r]=i[k],i[k]=H}return g&&(i=g.concat(i)),i}const J={duration:200,y:100,opactiy:0};let A=d(0),K=d(0),p=d(0),U=d(!1),M=d(!1),E=d(!1),D=d(-1),Q=d(10),R=d(st([])),z=-1,V=Date.now(),X=d(!1),Y=d(!1),w=d(st({})),I=d(st({})),$=0,Z=null,q=[];function F(e){$&&clearTimeout($),$=setTimeout(()=>St(),e)}function tt(e){const a=e;l(p,a>=0&&a<o.data.collections.length?a:t(p),!0),t(p)==a&&(q=rt(o.data.collections[e].titleImages,o.data.collections[e].forceFirstTitleImage),z=-1,F(100))}function ct(e){const a=t(p)+e;tt(a)}async function vt(e){try{Z=await navigator.wakeLock.request("screen")}catch{Z=null}l(M,!1),l(E,!1),l(U,!0),l(R,e?[o.data.collections[t(p)]]:o.data.collections,!0),l(D,0),z=-1,F(100)}function yt(){if(Z){try{Z.release()}catch{}Z=null}l(U,!1),l(E,!1),l(D,-1),z=-1,F(100)}function Lt(e){t(M)||Math.abs(e.deltaX)<30||Date.now()-V<300||(e.deltaX<0?(ct(1),V=Date.now()):e.deltaX>0&&(ct(-1),V=Date.now()))}function St(){z=(z+1)%q.length,t(X)?t(I).src=q[z].src:t(w).src=q[z].src}function dt(){return t(D)>=0?t(Q)*1e3:1e4}function ut(){l(X,!0),l(Y,!1),F(dt())}function gt(){l(w,new Image,!0),t(w).onload=ut,t(w).onerror=gt,F(1e3)}function _t(){l(X,!1),l(Y,!0),F(dt())}function mt(){l(I,new Image,!0),t(I).onload=_t,t(I).onerror=mt,F(1e3)}Pt(()=>{l(w,new Image,!0),t(w).onload=ut,t(w).onerror=gt,l(I,new Image,!0),t(I).onload=_t,t(I).onerror=mt,tt(0)});var ft=ve();nt("wheel",Zt,e=>Lt(e));var et=W(ft),bt=n(et);{var Ct=e=>{const a=G(()=>t(D)>=0?t(R)[t(D)]:o.data.collections[t(p)]);var i=Rt(),g=n(i);{var r=c=>{var v=Ut(),C=n(v);s(v),j(()=>{S(C,"src",t(w).src),S(C,"alt",t(w).src)}),P(3,v,()=>O,()=>({duration:1e3})),f(c,v)},k=c=>{var v=Ot(),C=W(v);{var at=lt=>{var N=Qt(),ot=n(N);s(N),j(()=>{S(ot,"src",t(I).src),S(ot,"alt",t(I).src)}),P(3,ot,()=>O),P(3,N,()=>O,()=>({duration:1e3})),f(lt,N)};T(C,lt=>{t(Y)&&t(I)&&lt(at)},!0)}f(c,v)};T(g,c=>{t(X)&&t(w)?c(r):c(k,!1)})}var H=u(g,2),_=n(H),m=n(_),y=n(m,!0);s(m),s(_);var x=u(_,2),L=n(x,!0);s(x),s(H),s(i),j(c=>{S(m,"href",c),it(y,t(a).title),it(L,t(a).subtitle)},[()=>Jt(`/collection/${t(a).id}`)]),P(3,i,()=>O),f(e,i)};T(bt,e=>{(t(p)>=0||t(D)>=0&&t(R).length>0)&&e(Ct)})}var Tt=u(bt,2);{var Mt=e=>{var a=Yt();a.__click=[Vt,M],P(3,a,()=>xt,()=>J),f(e,a)};T(Tt,e=>{!t(M)&&!t(U)&&e(Mt)})}s(et);var ht=u(et,2);{var Dt=e=>{var a=te(),i=n(a);Xt(i,21,()=>o.data.collections,Nt,(g,r,k,H)=>{const _=G(()=>t(r).forceFirstTitleImage>=0?t(r).forceFirstTitleImage:0),m=G(()=>t(r).titleImages[t(_)].navSrc),y=G(()=>t(p)==k?"collection-bg-selected":"collection-bg");var x=$t(),L=n(x);L.__click=at=>{tt(k),at.stopPropagation()};var c=n(L),v=u(c,2),C=n(v,!0);s(v),s(L),s(x),j(()=>{qt(c,1,Bt(t(y)),"svelte-1i2ltob"),S(c,"src",t(m)),S(c,"alt",t(r).title),it(C,t(r).title)}),f(g,x)}),s(i),s(a),P(3,a,()=>xt,()=>J),f(e,a)};T(ht,e=>{t(M)&&e(Dt)})}var pt=u(ht,2);{var zt=e=>{var a=ee();nt("click",a,()=>l(M,!1),!0),f(e,a)};T(pt,e=>{t(M)&&e(zt)})}var B=u(pt,2);B.__click=[ae,E];var wt=n(B);s(B);var Ft=u(B,2);{var Ht=e=>{var a=ce(),i=W(a),g=u(i,2),r=u(n(g),2);{var k=_=>{var m=se(),y=W(m),x=u(n(y),2);Wt(x),x.__change=[le,Q],s(y);var L=u(y,2),c=n(L);c.__click=[oe,vt],s(L);var v=u(L,2),C=n(v);C.__click=[ie,vt],s(v),j(()=>Gt(x,t(Q))),f(_,m)},H=_=>{var m=re(),y=n(m);y.__click=[ne,yt],s(m),f(_,m)};T(r,_=>{t(D)<0?_(k):_(H,!1)})}s(g),nt("click",i,()=>l(E,!1),!0),P(3,g,()=>O),f(e,a)};T(Ft,e=>{t(E)&&e(Ht)})}j(()=>{S(wt,"src",kt),S(wt,"alt",kt)}),It("innerWidth",e=>l(A,e,!0)),It("innerHeight",e=>l(K,e,!0)),f(b,ft),Et()}jt(["click","change"]);export{pe as component,he as universal};
