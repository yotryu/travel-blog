import"../chunks/DsnmJJEf.js";import{o as Xe,s as ne}from"../chunks/C6oAlcwk.js";import{l as Ze,m as je,t as g,ap as re,n as h,B as ve,o as J,q as s,y as c,v as T,w as f,x as Be,u as n,A as e,aq as Oe,z as i,K,J as Ue}from"../chunks/DD-mOtiu.js";import{i as S}from"../chunks/Cm0_1iCa.js";import{b as xe,t as A,e as Ne,f as B,a as ye,s as We,c as Ge,i as Je}from"../chunks/Dr7XqqHs.js";import{s as w,r as Ke,a as Re}from"../chunks/B3jKwxA_.js";import{r as ke}from"../chunks/DRhnsyt7.js";const Ve=async({fetch:b,params:l})=>{let X=await(await b("/collections/all.json")).json();return X=X.sort((V,q)=>V.sortDate.localeCompare(q.sortDate)).reverse(),{collections:X}},It=Object.freeze(Object.defineProperty({__proto__:null,load:Ve},Symbol.toStringTag,{value:"Module"})),Le="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!--%20Generated%20by%20Pixelmator%20Pro%203.7%20--%3e%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='Path'%20fill='none'%20stroke='none'%20d='M%200%200%20L%2048%200%20L%2048%2048%20L%200%2048%20Z'/%3e%3cpath%20id='path1'%20fill='%23ffffff'%20stroke='none'%20d='M%2020%2016%20L%2020%2032%20L%2030%2024%20L%2020%2016%20Z%20M%2038%206%20L%2010%206%20C%207.79%206%206%207.790001%206%2010%20L%206%2038%20C%206%2040.209999%207.79%2042%2010%2042%20L%2038%2042%20C%2040.209999%2042%2042%2040.209999%2042%2038%20L%2042%2010%20C%2042%207.790001%2040.209999%206%2038%206%20Z%20M%2038%2038%20L%2010%2038%20L%2010%2010%20L%2038%2010%20L%2038%2038%20Z'/%3e%3c/svg%3e",Se=""+new URL("../assets/up_icon.BXy2IynU.svg",import.meta.url).href;var Qe=h('<div class="overlay svelte-fwgoqv"><img class="collection-image svelte-fwgoqv"/></div>'),Ye=h('<div class="overlay svelte-fwgoqv"><img class="collection-image svelte-fwgoqv"/></div>'),$e=h('<button class="basic-button svelte-fwgoqv"><a class="svelte-fwgoqv">View</a></button>'),et=h('<div class="collection-page svelte-fwgoqv" id="image-root"><!> <div class="header svelte-fwgoqv" data-sveltekit-reload=""><h1 class="title svelte-fwgoqv"><a class="svelte-fwgoqv"> </a></h1> <h3 class="small svelte-fwgoqv"> </h3> <!></div></div>'),tt=(b,l)=>s(l,!0),at=h('<button class="tab-bottom svelte-fwgoqv"><img class="tab-button-image svelte-fwgoqv"/></button>'),ot=h('<div class="collection-div svelte-fwgoqv"><button class="collection-button svelte-fwgoqv"><img loading="lazy"/> <p class="small collection-title svelte-fwgoqv"> </p></button></div>'),st=h('<div class="collection-popup svelte-fwgoqv"><div class="collection-container svelte-fwgoqv"></div></div>'),lt=h('<div class="overlay svelte-fwgoqv"></div>'),it=(b,l)=>s(l,!0),nt=(b,l)=>s(l,Number(b.target.value?b.target.value:10),!0),rt=(b,l)=>l(!0),vt=(b,l)=>l(!1),ct=h('<div class="settings-option svelte-fwgoqv"><p class="inline-text settings-no-margins svelte-fwgoqv">Image duration</p> <input class="settings-input svelte-fwgoqv" type="number" min="5" max="600" step="1" size="5"/></div> <div class="settings-option svelte-fwgoqv"><button class="text-button settings-full-width svelte-fwgoqv">This Collection</button></div> <div class="settings-option svelte-fwgoqv"><button class="text-button settings-full-width svelte-fwgoqv">All Collections</button></div>',1),dt=(b,l)=>l(),gt=h('<div class="settings-option svelte-fwgoqv"><button class="text-button settings-full-width svelte-fwgoqv">Stop</button></div>'),ft=h('<div class="overlay svelte-fwgoqv"></div>  <div class="settings-container svelte-fwgoqv"><h4 class="settings-title">Slideshow</h4> <!></div>',1),ut=h('<div class="overlay svelte-fwgoqv"><!> <!></div> <!> <!> <button class="settings-button svelte-fwgoqv"><img class="settings-button-image svelte-fwgoqv"/></button> <!>',1);function xt(b,l){je(l,!0);function ce(t,a){let o=[...t],u=null;a!=null&&a>=0&&a<t.length&&(u=o.splice(a,1));for(var v=o.length-1;v>0;v--){var y=Math.floor(Math.random()*(v+1)),H=o[v];o[v]=o[y],o[y]=H}return u&&(o=u.concat(o)),o}const R={duration:200,y:100,opactiy:0};let X=g(0),V=g(0),q=g(0),O=g(!1),M=g(!1),Z=g(!1),D=g(-1),Q=g(10),Y=g(re([])),z=-1,$=Date.now(),U=g(!1),ee=g(!1),I=g(re({})),x=g(re({})),te=0,j=null,N=[];function F(t){te&&clearTimeout(te),te=setTimeout(()=>Me(),t)}function ae(t){const a=t;s(q,a>=0&&a<l.data.collections.length?a:e(q),!0),e(q)==a&&(N=ce(l.data.collections[t].titleImages,l.data.collections[t].forceFirstTitleImage),z=-1,F(100))}function de(t){const a=e(q)+t;ae(a)}async function ge(t){try{j=await navigator.wakeLock.request("screen")}catch{j=null}s(M,!1),s(Z,!1),s(O,!0),s(Y,t?[l.data.collections[e(q)]]:l.data.collections,!0),s(D,0),z=-1,F(100)}function Ce(){if(j){try{j.release()}catch{}j=null}s(O,!1),s(Z,!1),s(D,-1),z=-1,F(100)}function Te(t){e(M)||Math.abs(t.deltaX)<30||Date.now()-$<300||(t.deltaX<0?(de(1),$=Date.now()):t.deltaX>0&&(de(-1),$=Date.now()))}function Me(){z=(z+1)%N.length,e(U)?e(x).src=N[z].src:e(I).src=N[z].src}function fe(){return e(D)>=0?e(Q)*1e3:1e4}function ue(){s(U,!0),s(ee,!1),F(fe())}function _e(){s(I,new Image,!0),e(I).onload=ue,e(I).onerror=_e,F(1e3)}function me(){s(U,!1),s(ee,!0),F(fe())}function we(){s(x,new Image,!0),e(x).onload=me,e(x).onerror=we,F(1e3)}Xe(()=>{s(I,new Image,!0),e(I).onload=ue,e(I).onerror=_e,s(x,new Image,!0),e(x).onload=me,e(x).onerror=we,ae(0)});var he=ut();ve("wheel",Oe,t=>Te(t));var oe=J(he),be=n(oe);{var De=t=>{const a=K(()=>e(D)>=0?e(Y)[e(D)]:l.data.collections[e(q)]);var o=et(),u=n(o);{var v=r=>{var d=Qe(),E=n(d);i(d),T(()=>{w(E,"src",e(I).src),w(E,"alt",e(I).src)}),A(3,d,()=>B,()=>({duration:1e3})),f(r,d)},y=r=>{var d=Ue(),E=J(d);{var se=le=>{var G=Ye(),ie=n(G);i(G),T(()=>{w(ie,"src",e(x).src),w(ie,"alt",e(x).src)}),A(3,ie,()=>B),A(3,G,()=>B,()=>({duration:1e3})),f(le,G)};S(E,le=>{e(ee)&&e(x)&&le(se)},!0)}f(r,d)};S(u,r=>{e(U)&&e(I)?r(v):r(y,!1)})}var H=c(u,2),_=n(H),m=n(_),k=n(m,!0);i(m),i(_);var p=c(_,2),L=n(p,!0);i(p);var C=c(p,2);{var P=r=>{var d=$e(),E=n(d);i(d),T(se=>w(E,"href",se),[()=>ke(`/collection/${e(a).id}`)]),f(r,d)};S(C,r=>{e(O)||r(P)})}i(H),i(o),T(r=>{w(m,"href",r),ne(k,e(a).title),ne(L,e(a).subtitle)},[()=>ke(`/collection/${e(a).id}`)]),A(3,o,()=>B),f(t,o)};S(be,t=>{(e(q)>=0||e(D)>=0&&e(Y).length>0)&&t(De)})}var ze=c(be,2);{var Fe=t=>{var a=at();a.__click=[tt,M];var o=n(a);i(a),T(()=>{w(o,"src",Se),w(o,"alt",Se)}),A(3,a,()=>ye,()=>R),f(t,a)};S(ze,t=>{!e(M)&&!e(O)&&t(Fe)})}i(oe);var pe=c(oe,2);{var He=t=>{var a=st(),o=n(a);Ne(o,21,()=>l.data.collections,Je,(u,v,y,H)=>{const _=K(()=>e(v).forceFirstTitleImage>=0?e(v).forceFirstTitleImage:0),m=K(()=>e(v).titleImages[e(_)].navSrc),k=K(()=>e(q)==y?"collection-bg-selected":"collection-bg");var p=ot(),L=n(p);L.__click=d=>{ae(y),d.stopPropagation()};var C=n(L),P=c(C,2),r=n(P,!0);i(P),i(L),i(p),T(()=>{We(C,1,Ge(e(k)),"svelte-fwgoqv"),w(C,"src",e(m)),w(C,"alt",e(v).title),ne(r,e(v).title)}),f(u,p)}),i(o),i(a),A(3,a,()=>ye,()=>R),f(t,a)};S(pe,t=>{e(M)&&t(He)})}var qe=c(pe,2);{var Pe=t=>{var a=lt();ve("click",a,()=>s(M,!1),!0),f(t,a)};S(qe,t=>{e(M)&&t(Pe)})}var W=c(qe,2);W.__click=[it,Z];var Ie=n(W);i(W);var Ae=c(W,2);{var Ee=t=>{var a=ft(),o=J(a),u=c(o,2),v=c(n(u),2);{var y=_=>{var m=ct(),k=J(m),p=c(n(k),2);Ke(p),p.__change=[nt,Q],i(k);var L=c(k,2),C=n(L);C.__click=[rt,ge],i(L);var P=c(L,2),r=n(P);r.__click=[vt,ge],i(P),T(()=>Re(p,e(Q))),f(_,m)},H=_=>{var m=gt(),k=n(m);k.__click=[dt,Ce],i(m),f(_,m)};S(v,_=>{e(D)<0?_(y):_(H,!1)})}i(u),ve("click",o,()=>s(Z,!1),!0),A(3,u,()=>B),f(t,a)};S(Ae,t=>{e(Z)&&t(Ee)})}T(()=>{w(Ie,"src",Le),w(Ie,"alt",Le)}),xe("innerWidth",t=>s(X,t,!0)),xe("innerHeight",t=>s(V,t,!0)),f(b,he),Be()}Ze(["click","change"]);export{xt as component,It as universal};
