import"../chunks/DsnmJJEf.js";import{aa as B,a7 as F,ab as G,ac as I,ad as x,a9 as J,ae as w,af as P,ag as W,ah as c,ai as j,aj as m,ak as z,al as s,am as D,an as K}from"../chunks/BLq7Ua4-.js";import{s as k}from"../chunks/CPa6ouks.js";import{i as L}from"../chunks/CjYXtWFW.js";import{e as N,i as Q,s as R,c as U,t as V,f as X}from"../chunks/BsQbfKRW.js";import{s as H}from"../chunks/CDOJrobL.js";import{b as O}from"../chunks/Ujk8DKch.js";import{r as Y}from"../chunks/DyZfMRlY.js";const Z=async({fetch:d,params:a})=>{let l=(await(await d("/collections/all.json")).json()).find(o=>o.id==a.slug);if(!l)return{collection:null,collectionPosts:null};let r=[],v=[];return l.posts.forEach(o=>{let t=d(`/posts/${o}.json`).then(e=>e.json()).then(e=>(r.push(e),e));v.push(t)}),await Promise.all(v),r=r.sort((o,u)=>{let t=l.posts.findIndex(i=>i==o.id),e=l.posts.findIndex(i=>i==u.id);return t>e?1:e>t?-1:0}),{collection:l,collectionPosts:r}},dt=Object.freeze(Object.defineProperty({__proto__:null,load:Z},Symbol.toStringTag,{value:"Module"}));var $=(d,a)=>window.location.assign(Y(`/post/${s(a).id}`)),tt=W('<button><img class="svelte-e38dbs"/> <h4 class="title overlay-bottom svelte-e38dbs"> </h4></button>'),et=W('<div class="overlay svelte-e38dbs"></div> <div class="header svelte-e38dbs"><h1 class="title svelte-e38dbs"> </h1> <h3 class="small svelte-e38dbs"> </h3></div>',1);function vt(d,a){F(a,!0);let _=P(0),f=P(0),y=D(()=>s(_)<=s(f)),l=D(()=>s(y)?"image-button-portrait":"image-button"),r=P(-1);var v=G(),o=I(v);{var u=t=>{var e=et(),i=I(e);N(i,21,()=>a.data.collectionPosts,Q,(T,h,q)=>{var n=tt();n.__click=[$,h];var p=m(n),g=j(p,2),A=m(g,!0);c(g),c(n),z(()=>{R(n,1,U(s(l)),"svelte-e38dbs"),H(p,"src",s(h).images[0].collageSrc),H(p,"alt",s(h).images[0].collageSrc),k(A,s(h).title)}),K("mouseenter",n,()=>w(r,q,!0)),V(3,g,()=>X),x(T,n)}),c(i);var C=j(i,2),b=m(C),E=m(b,!0);c(b);var S=j(b,2),M=m(S,!0);c(S),c(C),z(()=>{k(E,a.data.collection.title),k(M,a.data.collection.subtitle)}),x(t,e)};L(o,t=>{a.data.collection&&t(u)})}O("innerWidth",t=>w(_,t,!0)),O("innerHeight",t=>w(f,t,!0)),x(d,v),J()}B(["click"]);export{vt as component,dt as universal};
