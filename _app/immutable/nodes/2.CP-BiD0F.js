import"../chunks/DsnmJJEf.js";import{o as Ze,s as J}from"../chunks/BWE3rs_R.js";import{l as Oe,m as Xe,t as p,aj as oe,n as h,B as ie,o as K,q as i,y as w,v as P,w as _,x as Be,u as r,z as e,ak as Ne,A as o,K as X,J as We}from"../chunks/DqVZNpwN.js";import{i as T}from"../chunks/CMLcb2m1.js";import{b as be,t as M,e as Ie,f as B,s as xe,c as ke,d as ye,i as Le,a as Ce}from"../chunks/BHdDEesX.js";import{s as D,r as qe,a as Ge}from"../chunks/Duc2o9yF.js";import{r as Je}from"../chunks/CcsbMPYJ.js";const Ke=async({fetch:I,params:n})=>{let A=await(await I("/collections/all.json")).json();return A=A.sort((Q,x)=>Q.sortDate.localeCompare(x.sortDate)).reverse(),{collections:A}},It=Object.freeze(Object.defineProperty({__proto__:null,load:Ke},Symbol.toStringTag,{value:"Module"})),Se="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!--%20Generated%20by%20Pixelmator%20Pro%203.7%20--%3e%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='Path'%20fill='none'%20stroke='none'%20d='M%200%200%20L%2048%200%20L%2048%2048%20L%200%2048%20Z'/%3e%3cpath%20id='path1'%20fill='%23ffffff'%20stroke='none'%20d='M%2020%2016%20L%2020%2032%20L%2030%2024%20L%2020%2016%20Z%20M%2038%206%20L%2010%206%20C%207.79%206%206%207.790001%206%2010%20L%206%2038%20C%206%2040.209999%207.79%2042%2010%2042%20L%2038%2042%20C%2040.209999%2042%2042%2040.209999%2042%2038%20L%2042%2010%20C%2042%207.790001%2040.209999%206%2038%206%20Z%20M%2038%2038%20L%2010%2038%20L%2010%2010%20L%2038%2010%20L%2038%2038%20Z'/%3e%3c/svg%3e";var Ue=h('<div class="overlay svelte-wcmplh"><img class="collection-image svelte-wcmplh"/></div>'),Qe=h('<div class="overlay svelte-wcmplh"><img class="collection-image svelte-wcmplh"/></div>'),Re=h('<div class="collection-page svelte-wcmplh" id="image-root"><!> <div class="header svelte-wcmplh" data-sveltekit-reload=""><h1 class="title svelte-wcmplh"><a class="svelte-wcmplh"> </a></h1> <h3 class="small svelte-wcmplh"> </h3></div></div>'),Ve=(I,n)=>i(n,!0),Ye=h('<div class="item-dot-selected svelte-wcmplh"></div>'),$e=h('<div class="item-dot tooltip svelte-wcmplh"><span class="tooltiptext svelte-wcmplh"> </span></div>'),et=h("<div><!></div>"),tt=h('<div class="overlay-bottom svelte-wcmplh"><div class="svelte-wcmplh"></div></div>'),at=h('<div class="collection-div svelte-wcmplh"><button class="collection-button svelte-wcmplh"><img loading="lazy"/> <p class="small collection-title svelte-wcmplh"> </p></button></div>'),lt=h('<div class="collection-popup svelte-wcmplh"><div class="collection-container svelte-wcmplh"></div></div>'),st=h('<div class="overlay svelte-wcmplh"></div>'),ot=(I,n)=>i(n,!0),it=(I,n)=>i(n,Number(I.target.value?I.target.value:10),!0),nt=(I,n)=>n(!0),rt=(I,n)=>n(!1),ct=h('<div class="settings-option svelte-wcmplh"><p class="inline-text settings-no-margins svelte-wcmplh">Image duration</p> <input class="settings-input svelte-wcmplh" type="number" min="5" max="600" step="1" size="5"/></div> <div class="settings-option svelte-wcmplh"><button class="text-button settings-full-width svelte-wcmplh">This Collection</button></div> <div class="settings-option svelte-wcmplh"><button class="text-button settings-full-width svelte-wcmplh">All Collections</button></div>',1),vt=(I,n)=>n(),dt=h('<div class="settings-option svelte-wcmplh"><button class="text-button settings-full-width svelte-wcmplh">Stop</button></div>'),mt=h('<div class="overlay svelte-wcmplh"></div>  <div class="settings-container svelte-wcmplh"><h4 class="settings-title">Slideshow</h4> <!></div>',1),_t=h('<div class="overlay svelte-wcmplh"><!> <!></div> <!> <!> <button class="settings-button svelte-wcmplh"><img class="settings-button-image svelte-wcmplh"/></button> <!>',1);function xt(I,n){Xe(n,!0);function ne(t,a){let l=[...t],g=null;a!=null&&a>=0&&a<t.length&&(g=l.splice(a,1));for(var c=l.length-1;c>0;c--){var f=Math.floor(Math.random()*(c+1)),S=l[c];l[c]=l[f],l[f]=S}return g&&(l=g.concat(l)),l}const U={duration:200,y:100,opactiy:0};let A=p(0),Q=p(0),x=p(0),R=p(!1),z=p(!1),E=p(!1),F=p(-1),V=p(10),Y=p(oe([])),H=-1,$=Date.now(),N=p(!1),ee=p(!1),y=p(oe({})),L=p(oe({})),te=0,Z=[];function j(t){te&&clearTimeout(te),te=setTimeout(()=>De(),t)}function W(t){const a=t;i(x,a>=0&&a<n.data.collections.length?a:e(x),!0),e(x)==a&&(Z=ne(n.data.collections[t].titleImages,n.data.collections[t].forceFirstTitleImage),console.log(Z),H=-1,j(100))}function re(t){const a=e(x)+t;W(a)}function ce(t){i(z,!1),i(E,!1),i(R,!0),i(Y,t?[n.data.collections[e(x)]]:n.data.collections,!0),i(F,0),H=-1,j(100)}function Te(){i(R,!1),i(E,!1),i(F,-1),H=-1,j(100)}function Me(t){e(z)||Math.abs(t.deltaX)<30||Date.now()-$<300||(t.deltaX<0?(re(1),$=Date.now()):t.deltaX>0&&(re(-1),$=Date.now()))}function De(){H=(H+1)%Z.length,e(N)?e(L).src=Z[H]:e(y).src=Z[H]}function ve(){return e(F)>=0?e(V)*1e3:1e4}function de(){i(N,!0),i(ee,!1),j(ve())}function me(){i(y,new Image,!0),e(y).onload=de,e(y).onerror=me,j(1e3)}function _e(){i(N,!1),i(ee,!0),j(ve())}function ge(){i(L,new Image,!0),e(L).onload=_e,e(L).onerror=ge,j(1e3)}Ze(()=>{i(y,new Image,!0),e(y).onload=de,e(y).onerror=me,i(L,new Image,!0),e(L).onload=_e,e(L).onerror=ge,W(0)});var ue=_t();ie("wheel",Ne,t=>Me(t));var ae=K(ue),he=r(ae);{var Pe=t=>{const a=X(()=>e(F)>=0?e(Y)[e(F)]:n.data.collections[e(x)]);var l=Re(),g=r(l);{var c=s=>{var m=Ue(),C=r(m);o(m),P(()=>{D(C,"src",e(y).src),D(C,"alt",e(y).src)}),M(3,m,()=>B,()=>({duration:1e3})),_(s,m)},f=s=>{var m=We(),C=K(m);{var O=le=>{var G=Qe(),se=r(G);o(G),P(()=>{D(se,"src",e(L).src),D(se,"alt",e(L).src)}),M(3,se,()=>B),M(3,G,()=>B,()=>({duration:1e3})),_(le,G)};T(C,le=>{e(ee)&&e(L)&&le(O)},!0)}_(s,m)};T(g,s=>{e(N)&&e(y)?s(c):s(f,!1)})}var S=w(g,2),v=r(S),u=r(v),k=r(u,!0);o(u),o(v);var b=w(v,2),d=r(b,!0);o(b),o(S),o(l),P(s=>{D(u,"href",s),J(k,e(a).title),J(d,e(a).subtitle)},[()=>Je(`/collection/${e(a).id}`)]),M(3,l,()=>B),_(t,l)};T(he,t=>{(e(x)>=0||e(F)>=0&&e(Y).length>0)&&t(Pe)})}var ze=w(he,2);{var Fe=t=>{var a=tt(),l=r(a);l.__click=[Ve,z],Ie(l,21,()=>n.data.collections,Le,(g,c,f)=>{const S=X(()=>f==n.data.collections.length-1?"item-dot-spacing-last":"item-dot-spacing");var v=et(),u=r(v);{var k=d=>{var s=Ye();M(3,s,()=>ye),_(d,s)},b=d=>{var s=$e();s.__click=O=>{W(f),O.stopPropagation()};var m=r(s),C=r(m,!0);o(m),o(s),P(()=>J(C,e(c).title)),M(3,s,()=>ye),_(d,s)};T(u,d=>{e(x)==f?d(k):d(b,!1)})}o(v),P(()=>xe(v,1,ke(e(S)),"svelte-wcmplh")),_(g,v)}),o(l),o(a),M(3,a,()=>Ce,()=>U),_(t,a)};T(ze,t=>{!e(z)&&!e(R)&&t(Fe)})}o(ae);var fe=w(ae,2);{var He=t=>{var a=lt(),l=r(a);Ie(l,21,()=>n.data.collections,Le,(g,c,f,S)=>{const v=X(()=>e(c).forceFirstTitleImage>=0?e(c).forceFirstTitleImage:0),u=X(()=>e(c).titleImages[e(v)]),k=X(()=>e(x)==f?"collection-bg-selected":"collection-bg");var b=at(),d=r(b);d.__click=O=>{W(f),O.stopPropagation()};var s=r(d),m=w(s,2),C=r(m,!0);o(m),o(d),o(b),P(()=>{xe(s,1,ke(e(k)),"svelte-wcmplh"),D(s,"src",e(u)),D(s,"alt",e(c).title),J(C,e(c).title)}),_(g,b)}),o(l),o(a),M(3,a,()=>Ce,()=>U),_(t,a)};T(fe,t=>{e(z)&&t(He)})}var pe=w(fe,2);{var je=t=>{var a=st();ie("click",a,()=>i(z,!1),!0),_(t,a)};T(pe,t=>{e(z)&&t(je)})}var q=w(pe,2);q.__click=[ot,E];var we=r(q);o(q);var Ae=w(q,2);{var Ee=t=>{var a=mt(),l=K(a),g=w(l,2),c=w(r(g),2);{var f=v=>{var u=ct(),k=K(u),b=w(r(k),2);qe(b),b.__change=[it,V],o(k);var d=w(k,2),s=r(d);s.__click=[nt,ce],o(d);var m=w(d,2),C=r(m);C.__click=[rt,ce],o(m),P(()=>Ge(b,e(V))),_(v,u)},S=v=>{var u=dt(),k=r(u);k.__click=[vt,Te],o(u),_(v,u)};T(c,v=>{e(F)<0?v(f):v(S,!1)})}o(g),ie("click",l,()=>i(E,!1),!0),M(3,g,()=>B),_(t,a)};T(Ae,t=>{e(E)&&t(Ee)})}P(()=>{D(we,"src",Se),D(we,"alt",Se)}),be("innerWidth",t=>i(A,t,!0)),be("innerHeight",t=>i(Q,t,!0)),_(I,ue),Be()}Oe(["click","change"]);export{xt as component,It as universal};
