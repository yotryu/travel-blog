import"../chunks/DsnmJJEf.js";import{o as Xa}from"../chunks/FsTs4vV3.js";import{aa as Za,a7 as za,af as p,au as oa,ag as w,an as ia,ac as R,ae as l,ai as v,ak as F,ad as f,a9 as Aa,aj as n,al as a,av as Ha,ah as i,am as V,ab as Oa}from"../chunks/BLq7Ua4-.js";import{s as na}from"../chunks/CPa6ouks.js";import{i as T}from"../chunks/CjYXtWFW.js";import{t as A,e as Ua,f as U,a as pa,s as Ba,c as Na,i as qa}from"../chunks/BsQbfKRW.js";import{s as m,r as Ga,a as Ra}from"../chunks/CDOJrobL.js";import{r as Ia}from"../chunks/DyZfMRlY.js";const Va=async({fetch:h,params:o})=>{let M=await(await h("/collections/all.json")).json();return M=M.sort((y,P)=>y.sortDate.localeCompare(P.sortDate)).reverse(),{collections:M}},pe=Object.freeze(Object.defineProperty({__proto__:null,load:Va},Symbol.toStringTag,{value:"Module"})),ka="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!--%20Generated%20by%20Pixelmator%20Pro%203.7%20--%3e%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='Path'%20fill='none'%20stroke='none'%20d='M%200%200%20L%2048%200%20L%2048%2048%20L%200%2048%20Z'/%3e%3cpath%20id='path1'%20fill='%23ffffff'%20stroke='none'%20d='M%2020%2016%20L%2020%2032%20L%2030%2024%20L%2020%2016%20Z%20M%2038%206%20L%2010%206%20C%207.79%206%206%207.790001%206%2010%20L%206%2038%20C%206%2040.209999%207.79%2042%2010%2042%20L%2038%2042%20C%2040.209999%2042%2042%2040.209999%2042%2038%20L%2042%2010%20C%2042%207.790001%2040.209999%206%2038%206%20Z%20M%2038%2038%20L%2010%2038%20L%2010%2010%20L%2038%2010%20L%2038%2038%20Z'/%3e%3c/svg%3e",xa=""+new URL("../assets/up_icon.BXy2IynU.svg",import.meta.url).href;var Ja=w('<div class="overlay svelte-33afwa"><img class="collection-image svelte-33afwa"/></div>'),Ka=w('<div class="overlay svelte-33afwa"><img class="collection-image svelte-33afwa"/></div>'),Qa=w('<button class="basic-button svelte-33afwa"><a class="svelte-33afwa">View</a></button>'),Wa=w('<div class="collection-page svelte-33afwa" id="image-root"><!> <div class="header svelte-33afwa" data-sveltekit-reload=""><h1 class="title svelte-33afwa"><a class="svelte-33afwa"> </a></h1> <h3 class="small svelte-33afwa"> </h3> <!></div></div>'),Ya=(h,o)=>l(o,!0),$a=w('<button class="tab-bottom svelte-33afwa"><img class="tab-button-image svelte-33afwa"/></button>'),ae=w('<div class="collection-div svelte-33afwa"><button class="collection-button svelte-33afwa"><img loading="lazy"/> <p class="small collection-title svelte-33afwa"> </p></button></div>'),ee=w('<div class="collection-popup svelte-33afwa"><div class="collection-container svelte-33afwa"></div></div>'),te=w('<div class="overlay svelte-33afwa"></div>'),se=(h,o)=>l(o,!0),le=(h,o)=>l(o,Number(h.target.value?h.target.value:10),!0),oe=(h,o)=>o(!0),ie=(h,o)=>o(!1),ne=w('<div class="settings-option svelte-33afwa"><p class="inline-text settings-no-margins svelte-33afwa">Image duration</p> <input class="settings-input svelte-33afwa" type="number" min="5" max="600" step="1" size="5"/></div> <div class="settings-option svelte-33afwa"><button class="text-button settings-full-width svelte-33afwa">This Collection</button></div> <div class="settings-option svelte-33afwa"><button class="text-button settings-full-width svelte-33afwa">All Collections</button></div>',1),re=(h,o)=>o(),ce=w('<div class="settings-option svelte-33afwa"><button class="text-button settings-full-width svelte-33afwa">Stop</button></div>'),ve=w('<div class="overlay svelte-33afwa"></div> <div class="settings-container svelte-33afwa"><h4 class="settings-title">Slideshow</h4> <!></div>',1),de=w('<div class="overlay svelte-33afwa"><!> <!></div> <!> <!> <button class="settings-button svelte-33afwa"><img class="settings-button-image svelte-33afwa"/></button> <!>',1);function Ie(h,o){za(o,!0);const J={duration:200,y:100,opactiy:0};let x=p(0),M=p(!1),y=p(!1),P=p(!1),j=p(-1),K=p(10),Q=p(oa([])),B=p(!1),W=p(!1),I=p(oa({})),k=p(oa({})),E=-1,Y=Date.now(),$=0,O=null,N=[];function ya(e,t){let s=[...e],u=null;t!=null&&t>=0&&t<e.length&&(u=s.splice(t,1));for(var c=s.length-1;c>0;c--){var L=Math.floor(Math.random()*(c+1)),Z=s[c];s[c]=s[L],s[L]=Z}return u&&(s=u.concat(s)),s}function X(e){$&&clearTimeout($),$=setTimeout(()=>Ca(),e)}function aa(e){const t=e;l(x,t>=0&&t<o.data.collections.length?t:a(x),!0),a(x)==t&&(N=ya(o.data.collections[e].titleImages,o.data.collections[e].forceFirstTitleImage),E=-1,X(100))}function ra(e){const t=a(x)+e;aa(t)}async function ca(e){try{O=await navigator.wakeLock.request("screen")}catch{O=null}l(y,!1),l(P,!1),l(M,!0),l(Q,e?[o.data.collections[a(x)]]:o.data.collections,!0),l(j,0),E=-1,X(100)}function La(){if(O){try{O.release()}catch{}O=null}l(M,!1),l(P,!1),l(j,-1),E=-1,X(100)}function Sa(e){a(y)||Math.abs(e.deltaX)<30||Date.now()-Y<300||(e.deltaX<0?(ra(1),Y=Date.now()):e.deltaX>0&&(ra(-1),Y=Date.now()))}function Ca(){E=(E+1)%N.length,a(B)?a(k).src=N[E].src:a(I).src=N[E].src}function va(){return a(j)>=0?a(K)*1e3:1e4}function da(){l(B,!0),l(W,!1),X(va())}function fa(){l(I,new Image,!0),a(I).onload=da,a(I).onerror=fa,X(1e3)}function ua(){l(B,!1),l(W,!0),X(va())}function ga(){l(k,new Image,!0),a(k).onload=ua,a(k).onerror=ga,X(1e3)}Xa(()=>{l(I,new Image,!0),a(I).onload=da,a(I).onerror=fa,l(k,new Image,!0),a(k).onload=ua,a(k).onerror=ga,aa(0)});var _a=de();ia("wheel",Ha,e=>Sa(e));var ea=R(_a),ma=n(ea);{var Ta=e=>{const t=V(()=>a(j)>=0?a(Q)[a(j)]:o.data.collections[a(x)]);var s=Wa(),u=n(s);{var c=r=>{var d=Ja(),H=n(d);i(d),F(()=>{m(H,"src",a(I).src),m(H,"alt",a(I).src)}),A(3,d,()=>U,()=>({duration:1e3})),f(r,d)},L=r=>{var d=Oa(),H=R(d);{var ta=sa=>{var G=Ka(),la=n(G);i(G),F(()=>{m(la,"src",a(k).src),m(la,"alt",a(k).src)}),A(3,la,()=>U),A(3,G,()=>U,()=>({duration:1e3})),f(sa,G)};T(H,sa=>{a(W)&&a(k)&&sa(ta)},!0)}f(r,d)};T(u,r=>{a(B)&&a(I)?r(c):r(L,!1)})}var Z=v(u,2),g=n(Z),_=n(g),S=n(_,!0);i(_),i(g);var b=v(g,2),C=n(b,!0);i(b);var D=v(b,2);{var z=r=>{var d=Qa(),H=n(d);i(d),F(ta=>m(H,"href",ta),[()=>Ia(`/collection/${a(t).id}`)]),f(r,d)};T(D,r=>{a(M)||r(z)})}i(Z),i(s),F(r=>{m(_,"href",r),na(S,a(t).title),na(C,a(t).subtitle)},[()=>Ia(`/collection/${a(t).id}`)]),A(3,s,()=>U),f(e,s)};T(ma,e=>{(a(x)>=0||a(j)>=0&&a(Q).length>0)&&e(Ta)})}var Ma=v(ma,2);{var Da=e=>{var t=$a();t.__click=[Ya,y];var s=n(t);i(t),F(()=>{m(s,"src",xa),m(s,"alt",xa)}),A(3,t,()=>pa,()=>J),f(e,t)};T(Ma,e=>{!a(y)&&!a(M)&&e(Da)})}i(ea);var wa=v(ea,2);{var Fa=e=>{var t=ee(),s=n(t);Ua(s,21,()=>o.data.collections,qa,(u,c,L,Z)=>{const g=V(()=>a(c).forceFirstTitleImage>=0?a(c).forceFirstTitleImage:0),_=V(()=>a(c).titleImages[a(g)].navSrc),S=V(()=>a(x)==L?"collection-bg-selected":"collection-bg");var b=ae(),C=n(b);C.__click=d=>{aa(L),d.stopPropagation()};var D=n(C),z=v(D,2),r=n(z,!0);i(z),i(C),i(b),F(()=>{Ba(D,1,Na(a(S)),"svelte-33afwa"),m(D,"src",a(_)),m(D,"alt",a(c).title),na(r,a(c).title)}),f(u,b)}),i(s),i(t),A(3,t,()=>pa,()=>J),f(e,t)};T(wa,e=>{a(y)&&e(Fa)})}var ha=v(wa,2);{var Pa=e=>{var t=te();ia("click",t,()=>l(y,!1),!0),f(e,t)};T(ha,e=>{a(y)&&e(Pa)})}var q=v(ha,2);q.__click=[se,P];var ba=n(q);i(q);var ja=v(q,2);{var Ea=e=>{var t=ve(),s=R(t),u=v(s,2),c=v(n(u),2);{var L=g=>{var _=ne(),S=R(_),b=v(n(S),2);Ga(b),b.__change=[le,K],i(S);var C=v(S,2),D=n(C);D.__click=[oe,ca],i(C);var z=v(C,2),r=n(z);r.__click=[ie,ca],i(z),F(()=>Ra(b,a(K))),f(g,_)},Z=g=>{var _=ce(),S=n(_);S.__click=[re,La],i(_),f(g,_)};T(c,g=>{a(j)<0?g(L):g(Z,!1)})}i(u),ia("click",s,()=>l(P,!1),!0),A(3,u,()=>U),f(e,t)};T(ja,e=>{a(P)&&e(Ea)})}F(()=>{m(ba,"src",ka),m(ba,"alt",ka)}),f(h,_a),Aa()}Za(["click","change"]);export{Ie as component,pe as universal};
