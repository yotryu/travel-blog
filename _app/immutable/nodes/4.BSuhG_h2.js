import"../chunks/DsnmJJEf.js";import{aa as st,a7 as lt,ag as g,ac as it,ae as T,af as M,aj as e,ak as j,ad as p,a9 as ot,ai as r,ah as a,al as t,an as rt,am as c}from"../chunks/BLq7Ua4-.js";import{s as C}from"../chunks/CPa6ouks.js";import{i as A}from"../chunks/CjYXtWFW.js";import{s as L,e as nt,i as vt,t as tt,a as at}from"../chunks/BsQbfKRW.js";import{s as E}from"../chunks/CDOJrobL.js";import{b as et}from"../chunks/Ujk8DKch.js";import{r as Q}from"../chunks/DyZfMRlY.js";import{I as bt}from"../chunks/o2icwVxu.js";const ft=async({fetch:h,params:s})=>{let v=`/posts/${s.slug}.json`,i=await(await h(v)).json();i.contentParagraphs=i.content.split(`
`),i.id=s.slug;let u=(await(await h("/collections/all.json")).json()).find(b=>b.id==i.collection);u||(u={id:"unknown",posts:[],title:"Unknown",parent:"",forceFirstTitleImage:-1,sortDate:"",subtitle:"",titleImages:[]});let D=[],m=[];return u?.posts.forEach(b=>{let o=h(`/posts/${b}.json`).then(l=>l.json()).then(l=>(D.push(l),l));m.push(o)}),await Promise.all(m),D=D.sort((b,z)=>{let o=u.posts.findIndex(_=>_==b.id),l=u.posts.findIndex(_=>_==z.id);return o>l?1:l>o?-1:0}),{post:i,collection:u,collectionPosts:D}},Bt=Object.freeze(Object.defineProperty({__proto__:null,load:ft},Symbol.toStringTag,{value:"Module"}));var xt=(h,s)=>T(s,!0),kt=g('<div class="post-div svelte-1i5ton4"><button class="post-button svelte-1i5ton4" data-sveltekit-reload=""><img class="postbg svelte-1i5ton4"/> <a class="posttitle svelte-1i5ton4"> </a></button></div>'),yt=g('<div class="post-container svelte-1i5ton4"></div>'),Pt=g('<div class="overlay svelte-1i5ton4"></div>'),wt=g('<div><div class="nav-contents svelte-1i5ton4"><button class="collection-button svelte-1i5ton4"> </button> <!></div></div> <!>',1);function Dt(h,s){lt(s,!0);let v=M(!1);var I=wt(),i=it(I),U=e(i),w=e(U);w.__click=[xt,v];var u=e(w,!0);a(w);var D=r(w,2);{var m=o=>{var l=yt();nt(l,21,()=>s.postNavData.collectionPosts,vt,(_,f)=>{var H=kt(),W=e(H),S=e(W),N=r(S,2),q=e(N,!0);a(N),a(W),a(H),j(F=>{E(S,"src",t(f).images[0].navSrc),E(S,"alt",t(f).title),E(N,"href",F),C(q,t(f).title)},[()=>Q(`/post/${t(f).id}`)]),p(_,H)}),a(l),p(o,l)};A(D,o=>{t(v)&&o(m)})}a(U),a(i);var b=r(i,2);{var z=o=>{var l=Pt();rt("click",l,()=>T(v,!1),!0),p(o,l)};A(b,o=>{t(v)&&o(z)})}j(()=>{L(i,1,"nav-area "+(t(v)?"expanded":""),"svelte-1i5ton4"),C(u,s.postNavData.collection.title)}),p(h,I),ot()}st(["click"]);var jt=g("<p> </p>"),Ct=g('<button class="nav-button-prev svelte-1ch7u1s" data-sveltekit-reload=""><img class="nav-bg svelte-1ch7u1s" alt="prev"/> <a class="nav-title-prev svelte-1ch7u1s">&lt; Previous<br/> </a></button>'),It=g('<button class="nav-button-next svelte-1ch7u1s" data-sveltekit-reload=""><img class="nav-bg svelte-1ch7u1s" alt="prev"/> <a class="nav-title-next svelte-1ch7u1s">Next &gt;<br/> </a></button>'),St=g('<div class="overlay svelte-1ch7u1s"><div><div class="content svelte-1ch7u1s"></div> <div data-sveltekit-reload="" class="svelte-1ch7u1s"><table style="width:100%; margin-top:8px;"><tbody><tr><td style="width:50%"><!></td><td style="width:50%; text-align:right;"><!></td></tr></tbody></table></div></div></div>'),Nt=(h,s)=>T(s,!0),Et=g("<button> </button>"),zt=g('<!> <div class="header svelte-1ch7u1s"><h1 class="title svelte-1ch7u1s"> </h1> <p class="small svelte-1ch7u1s"> </p></div> <!> <!>',1);function Gt(h,s){lt(s,!0);let v=M(0),I=M(0),i=c(()=>t(v)<=t(I)),U=c(()=>t(v)/t(I)>=2),w=c(()=>t(i)?{duration:200,y:100,opactiy:0}:{duration:200,x:100,opacity:0}),u=c(()=>t(i)?"content-container-portrait":"content-container"),D=c(()=>t(i)?"edge-container-portrait":"edge-container"),m=M(!1),b=c(()=>t(m)?t(i)?"expanded-portrait":t(U)?"expanded-ultrawide":"expanded":""),z=c(()=>t(i)?"↑":"←"),o=c(()=>s.data.post.images),l=c(()=>s.data.collectionPosts.findIndex(n=>n.id==s.data.post.id)),_=c(()=>t(l)>0?s.data.collectionPosts[t(l)-1]:null),f=c(()=>t(l)<s.data.collectionPosts.length-1&&t(l)>=0?s.data.collectionPosts[t(l)+1]:null);var H=zt(),W=it(H);bt(W,{get imagesData(){return t(o)}});var S=r(W,2),N=e(S),q=e(N,!0);a(N);var F=r(N,2),dt=e(F,!0);a(F),a(S);var R=r(S,2);{var ct=n=>{var d=St(),O=e(d),B=e(O);nt(B,21,()=>s.data.post.contentParagraphs,vt,(x,k)=>{var y=jt(),P=e(y,!0);a(y),j(()=>C(P,t(k))),p(x,y)}),a(B);var V=r(B,2),X=e(V),Y=e(X),Z=e(Y),G=e(Z),pt=e(G);{var gt=x=>{var k=Ct(),y=e(k),P=r(y,2),J=r(e(P),2,!0);a(P),a(k),j(K=>{E(y,"src",t(_).images[0].navSrc),E(P,"href",K),C(J,t(_).title)},[()=>Q(`/post/${t(_).id}`)]),p(x,k)};A(pt,x=>{t(_)!=null&&x(gt)})}a(G);var $=r(G),ht=e($);{var mt=x=>{var k=It(),y=e(k),P=r(y,2),J=r(e(P),2,!0);a(P),a(k),j(K=>{E(y,"src",t(f).images[0].navSrc),E(P,"href",K),C(J,t(f).title)},[()=>Q(`/post/${t(f).id}`)]),p(x,k)};A(ht,x=>{t(f)!=null&&x(mt)})}a($),a(Z),a(Y),a(X),a(V),a(O),a(d),j(()=>L(O,1,`${t(u)??""} ${t(b)??""}`,"svelte-1ch7u1s")),rt("click",d,()=>T(m,!1),!0),tt(3,O,()=>at,()=>t(w)),p(n,d)},ut=n=>{var d=Et();d.__click=[Nt,m];var O=e(d,!0);a(d),j(()=>{L(d,1,t(D),"svelte-1ch7u1s"),C(O,t(z))}),tt(3,d,()=>at,()=>t(w)),p(n,d)};A(R,n=>{t(m)?n(ct):n(ut,!1)})}var _t=r(R,2);Dt(_t,{get postNavData(){return s.data}}),j(()=>{C(q,s.data.post.title),C(dt,s.data.post.date)}),et("innerWidth",n=>T(v,n,!0)),et("innerHeight",n=>T(I,n,!0)),p(h,H),ot()}st(["click"]);export{Gt as component,Bt as universal};
