import"../chunks/DsnmJJEf.js";import{o as Ee,s as oe}from"../chunks/DdSnkxrx.js";import{l as Xe,m as Ze,t as b,ap as ie,n as w,B as ne,o as J,q as l,y as v,v as F,w as f,x as je,u as n,A as e,aq as qe,z as i,K,J as Be}from"../chunks/BX6k2Yzj.js";import{i as T}from"../chunks/BDF4QKAz.js";import{t as j,e as He,f as H,a as be,s as Oe,c as Ue,i as Ne}from"../chunks/BOznOsgP.js";import{s as m,r as Ge,a as Je}from"../chunks/SErHrX3h.js";import{r as Ie}from"../chunks/Cvt1kXs6.js";const Ke=async({fetch:h,params:o})=>{let M=await(await h("/collections/all.json")).json();return M=M.sort((k,P)=>k.sortDate.localeCompare(P.sortDate)).reverse(),{collections:M}},pt=Object.freeze(Object.defineProperty({__proto__:null,load:Ke},Symbol.toStringTag,{value:"Module"})),xe="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!--%20Generated%20by%20Pixelmator%20Pro%203.7%20--%3e%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='Path'%20fill='none'%20stroke='none'%20d='M%200%200%20L%2048%200%20L%2048%2048%20L%200%2048%20Z'/%3e%3cpath%20id='path1'%20fill='%23ffffff'%20stroke='none'%20d='M%2020%2016%20L%2020%2032%20L%2030%2024%20L%2020%2016%20Z%20M%2038%206%20L%2010%206%20C%207.79%206%206%207.790001%206%2010%20L%206%2038%20C%206%2040.209999%207.79%2042%2010%2042%20L%2038%2042%20C%2040.209999%2042%2042%2040.209999%2042%2038%20L%2042%2010%20C%2042%207.790001%2040.209999%206%2038%206%20Z%20M%2038%2038%20L%2010%2038%20L%2010%2010%20L%2038%2010%20L%2038%2038%20Z'/%3e%3c/svg%3e",ye=""+new URL("../assets/up_icon.BXy2IynU.svg",import.meta.url).href;var Re=w('<div class="overlay svelte-33afwa"><img class="collection-image svelte-33afwa"/></div>'),Ve=w('<div class="overlay svelte-33afwa"><img class="collection-image svelte-33afwa"/></div>'),Qe=w('<button class="basic-button svelte-33afwa"><a class="svelte-33afwa">View</a></button>'),We=w('<div class="collection-page svelte-33afwa" id="image-root"><!> <div class="header svelte-33afwa" data-sveltekit-reload=""><h1 class="title svelte-33afwa"><a class="svelte-33afwa"> </a></h1> <h3 class="small svelte-33afwa"> </h3> <!></div></div>'),Ye=(h,o)=>l(o,!0),$e=w('<button class="tab-bottom svelte-33afwa"><img class="tab-button-image svelte-33afwa"/></button>'),et=w('<div class="collection-div svelte-33afwa"><button class="collection-button svelte-33afwa"><img loading="lazy"/> <p class="small collection-title svelte-33afwa"> </p></button></div>'),tt=w('<div class="collection-popup svelte-33afwa"><div class="collection-container svelte-33afwa"></div></div>'),at=w('<div class="overlay svelte-33afwa"></div>'),st=(h,o)=>l(o,!0),lt=(h,o)=>l(o,Number(h.target.value?h.target.value:10),!0),ot=(h,o)=>o(!0),it=(h,o)=>o(!1),nt=w('<div class="settings-option svelte-33afwa"><p class="inline-text settings-no-margins svelte-33afwa">Image duration</p> <input class="settings-input svelte-33afwa" type="number" min="5" max="600" step="1" size="5"/></div> <div class="settings-option svelte-33afwa"><button class="text-button settings-full-width svelte-33afwa">This Collection</button></div> <div class="settings-option svelte-33afwa"><button class="text-button settings-full-width svelte-33afwa">All Collections</button></div>',1),rt=(h,o)=>o(),ct=w('<div class="settings-option svelte-33afwa"><button class="text-button settings-full-width svelte-33afwa">Stop</button></div>'),vt=w('<div class="overlay svelte-33afwa"></div> <div class="settings-container svelte-33afwa"><h4 class="settings-title">Slideshow</h4> <!></div>',1),dt=w('<div class="overlay svelte-33afwa"><!> <!></div> <!> <!> <button class="settings-button svelte-33afwa"><img class="settings-button-image svelte-33afwa"/></button> <!>',1);function bt(h,o){Ze(o,!0);const R={duration:200,y:100,opactiy:0};let y=b(0),M=b(!1),k=b(!1),P=b(!1),z=b(-1),V=b(10),Q=b(ie([])),O=b(!1),W=b(!1),I=b(ie({})),x=b(ie({})),A=-1,Y=Date.now(),$=0,B=null,U=[];function ke(t,a){let s=[...t],u=null;a!=null&&a>=0&&a<t.length&&(u=s.splice(a,1));for(var c=s.length-1;c>0;c--){var L=Math.floor(Math.random()*(c+1)),X=s[c];s[c]=s[L],s[L]=X}return u&&(s=u.concat(s)),s}function E(t){$&&clearTimeout($),$=setTimeout(()=>Ce(),t)}function ee(t){const a=t;l(y,a>=0&&a<o.data.collections.length?a:e(y),!0),e(y)==a&&(U=ke(o.data.collections[t].titleImages,o.data.collections[t].forceFirstTitleImage),A=-1,E(100))}function re(t){const a=e(y)+t;ee(a)}async function ce(t){try{B=await navigator.wakeLock.request("screen")}catch{B=null}l(k,!1),l(P,!1),l(M,!0),l(Q,t?[o.data.collections[e(y)]]:o.data.collections,!0),l(z,0),A=-1,E(100)}function Le(){if(B){try{B.release()}catch{}B=null}l(M,!1),l(P,!1),l(z,-1),A=-1,E(100)}function Se(t){e(k)||Math.abs(t.deltaX)<30||Date.now()-Y<300||(t.deltaX<0?(re(1),Y=Date.now()):t.deltaX>0&&(re(-1),Y=Date.now()))}function Ce(){A=(A+1)%U.length,e(O)?e(x).src=U[A].src:e(I).src=U[A].src}function ve(){return e(z)>=0?e(V)*1e3:1e4}function de(){l(O,!0),l(W,!1),E(ve())}function fe(){l(I,new Image,!0),e(I).onload=de,e(I).onerror=fe,E(1e3)}function ue(){l(O,!1),l(W,!0),E(ve())}function ge(){l(x,new Image,!0),e(x).onload=ue,e(x).onerror=ge,E(1e3)}Ee(()=>{l(I,new Image,!0),e(I).onload=de,e(I).onerror=fe,l(x,new Image,!0),e(x).onload=ue,e(x).onerror=ge,ee(0)});var _e=dt();ne("wheel",qe,t=>Se(t));var te=J(_e),me=n(te);{var Te=t=>{const a=K(()=>e(z)>=0?e(Q)[e(z)]:o.data.collections[e(y)]);var s=We(),u=n(s);{var c=r=>{var d=Re(),q=n(d);i(d),F(()=>{m(q,"src",e(I).src),m(q,"alt",e(I).src)}),j(3,d,()=>H,()=>({duration:1e3})),f(r,d)},L=r=>{var d=Be(),q=J(d);{var ae=se=>{var G=Ve(),le=n(G);i(G),F(()=>{m(le,"src",e(x).src),m(le,"alt",e(x).src)}),j(3,le,()=>H),j(3,G,()=>H,()=>({duration:1e3})),f(se,G)};T(q,se=>{e(W)&&e(x)&&se(ae)},!0)}f(r,d)};T(u,r=>{e(O)&&e(I)?r(c):r(L,!1)})}var X=v(u,2),g=n(X),_=n(g),S=n(_,!0);i(_),i(g);var p=v(g,2),C=n(p,!0);i(p);var D=v(p,2);{var Z=r=>{var d=Qe(),q=n(d);i(d),F(ae=>m(q,"href",ae),[()=>Ie(`/collection/${e(a).id}`)]),f(r,d)};T(D,r=>{e(M)||r(Z)})}i(X),i(s),F(r=>{m(_,"href",r),oe(S,e(a).title),oe(C,e(a).subtitle)},[()=>Ie(`/collection/${e(a).id}`)]),j(3,s,()=>H),f(t,s)};T(me,t=>{(e(y)>=0||e(z)>=0&&e(Q).length>0)&&t(Te)})}var Me=v(me,2);{var De=t=>{var a=$e();a.__click=[Ye,k];var s=n(a);i(a),F(()=>{m(s,"src",ye),m(s,"alt",ye)}),j(3,a,()=>be,()=>R),f(t,a)};T(Me,t=>{!e(k)&&!e(M)&&t(De)})}i(te);var we=v(te,2);{var Fe=t=>{var a=tt(),s=n(a);He(s,21,()=>o.data.collections,Ne,(u,c,L,X)=>{const g=K(()=>e(c).forceFirstTitleImage>=0?e(c).forceFirstTitleImage:0),_=K(()=>e(c).titleImages[e(g)].navSrc),S=K(()=>e(y)==L?"collection-bg-selected":"collection-bg");var p=et(),C=n(p);C.__click=d=>{ee(L),d.stopPropagation()};var D=n(C),Z=v(D,2),r=n(Z,!0);i(Z),i(C),i(p),F(()=>{Oe(D,1,Ue(e(S)),"svelte-33afwa"),m(D,"src",e(_)),m(D,"alt",e(c).title),oe(r,e(c).title)}),f(u,p)}),i(s),i(a),j(3,a,()=>be,()=>R),f(t,a)};T(we,t=>{e(k)&&t(Fe)})}var he=v(we,2);{var Pe=t=>{var a=at();ne("click",a,()=>l(k,!1),!0),f(t,a)};T(he,t=>{e(k)&&t(Pe)})}var N=v(he,2);N.__click=[st,P];var pe=n(N);i(N);var ze=v(N,2);{var Ae=t=>{var a=vt(),s=J(a),u=v(s,2),c=v(n(u),2);{var L=g=>{var _=nt(),S=J(_),p=v(n(S),2);Ge(p),p.__change=[lt,V],i(S);var C=v(S,2),D=n(C);D.__click=[ot,ce],i(C);var Z=v(C,2),r=n(Z);r.__click=[it,ce],i(Z),F(()=>Je(p,e(V))),f(g,_)},X=g=>{var _=ct(),S=n(_);S.__click=[rt,Le],i(_),f(g,_)};T(c,g=>{e(z)<0?g(L):g(X,!1)})}i(u),ne("click",s,()=>l(P,!1),!0),j(3,u,()=>H),f(t,a)};T(ze,t=>{e(P)&&t(Ae)})}F(()=>{m(pe,"src",xe),m(pe,"alt",xe)}),f(h,_e),je()}Xe(["click","change"]);export{bt as component,pt as universal};
