import"../chunks/DsnmJJEf.js";import{X as ct,V as k,S as pt,W as w,T as y,Y as _t,a2 as t,a3 as n,_ as d,Z as a,$ as e,a1 as A,a0 as W}from"../chunks/DfkLACHH.js";import{d as ut,s as q,e as ht}from"../chunks/BWD9i4zA.js";import{i as M}from"../chunks/DnrpmLhJ.js";import{b as Q,e as gt,i as mt,s as R,t as $,a as tt}from"../chunks/C2NSSTgc.js";import{s as S}from"../chunks/DSpFBvKM.js";import{I as ft,P as bt,r as et}from"../chunks/DUa63sa1.js";const xt=async({fetch:f,params:s})=>{let j=`/posts/${s.slug}.json`,i=await(await f(j)).json();i.contentParagraphs=i.content.split(`
`),i.id=s.slug;let u=(await(await f("/collections/all.json")).json()).find(m=>m.id==i.collection);u||(u={id:"unknown",posts:[],title:"Unknown",parent:""});let b=[],g=[];return u?.posts.forEach(m=>{let x=f(`/posts/${m}.json`).then(l=>l.json()).then(l=>(b.push(l),l));g.push(x)}),await Promise.all(g),b=b.sort((m,D)=>{let x=u.posts.findIndex(h=>h==m.id),l=u.posts.findIndex(h=>h==D.id);return x>l?1:l>x?-1:0}),{post:i,collection:u,collectionPosts:b}},Nt=Object.freeze(Object.defineProperty({__proto__:null,load:xt},Symbol.toStringTag,{value:"Module"}));var Pt=k("<p> </p>"),wt=k('<button class="nav-button-prev svelte-eqoh66" data-sveltekit-reload=""><img class="nav-bg svelte-eqoh66" alt="prev"/> <a class="nav-title-prev svelte-eqoh66">&lt; Previous<br/> </a></button>'),yt=k('<button class="nav-button-next svelte-eqoh66" data-sveltekit-reload=""><img class="nav-bg svelte-eqoh66" alt="prev"/> <a class="nav-title-next svelte-eqoh66">Next &gt;<br/> </a></button>'),qt=k('<div class="overlay svelte-eqoh66"><div><div class="content svelte-eqoh66"></div> <div data-sveltekit-reload="" class="svelte-eqoh66"><table style="width:100%; margin-top:8px;"><tbody><tr><td style="width:50%"><!></td><td style="width:50%; text-align:right;"><!></td></tr></tbody></table></div></div></div>'),kt=(f,s)=>W(s,!0),jt=k("<div> </div>"),Ct=k('<!> <div class="header svelte-eqoh66"><h1 class="title svelte-eqoh66"> </h1> <p class="small svelte-eqoh66"> </p></div> <!> <!>',1);function Ot(f,s){ct(s,!0);let j=A(0),C=A(0),i=n(()=>t(j)<=t(C)),V=n(()=>t(j)/t(C)>=2),z=n(()=>t(i)?{duration:200,y:100,opactiy:0}:{duration:200,x:100,opacity:0}),u=n(()=>t(i)?"content-container-portrait":"content-container"),b=n(()=>t(i)?"edge-container-portrait":"edge-container"),g=A(!1),m=n(()=>t(g)?t(i)?"expanded-portrait":t(V)?"expanded-ultrawide":"expanded":""),D=n(()=>t(i)?"↑":"←"),x=n(()=>s.data.post.images),l=n(()=>s.data.collectionPosts.findIndex(o=>o.id==s.data.post.id)),h=n(()=>t(l)>0?s.data.collectionPosts[t(l)-1]:null),I=n(()=>t(l)<s.data.collectionPosts.length-1&&t(l)>=0?s.data.collectionPosts[t(l)+1]:null);var X=Ct(),Y=pt(X);ft(Y,{get imagesData(){return t(x)}});var E=d(Y,2),H=a(E),at=a(H,!0);e(H);var Z=d(H,2),st=a(Z,!0);e(Z),e(E);var B=d(E,2);{var lt=o=>{var r=qt(),P=a(r),N=a(P);gt(N,21,()=>s.data.post.contentParagraphs,mt,(v,c)=>{var p=Pt(),_=a(p,!0);e(p),w(()=>q(_,t(c))),y(v,p)}),e(N);var F=d(N,2),G=a(F),J=a(G),K=a(J),O=a(K),rt=a(O);{var nt=v=>{var c=wt(),p=a(c),_=d(p,2),T=d(a(_),2,!0);e(_),e(c),w(U=>{S(p,"src",t(h).images[0].navSrc),S(_,"href",U),q(T,t(h).title)},[()=>et(`/post/${t(h).id}`)]),y(v,c)};M(rt,v=>{t(h)!=null&&v(nt)})}e(O);var L=d(O),dt=a(L);{var vt=v=>{var c=yt(),p=a(c),_=d(p,2),T=d(a(_),2,!0);e(_),e(c),w(U=>{S(p,"src",t(I).images[0].navSrc),S(_,"href",U),q(T,t(I).title)},[()=>et(`/post/${t(I).id}`)]),y(v,c)};M(dt,v=>{t(I)!=null&&v(vt)})}e(L),e(K),e(J),e(G),e(F),e(P),e(r),w(()=>R(P,1,`${t(u)??""} ${t(m)??""}`,"svelte-eqoh66")),ht("click",r,()=>W(g,!1),!0),$(3,P,()=>tt,()=>t(z)),y(o,r)},ot=o=>{var r=jt();r.__click=[kt,g];var P=a(r,!0);e(r),w(()=>{R(r,1,t(b),"svelte-eqoh66"),q(P,t(D))}),$(3,r,()=>tt,()=>t(z)),y(o,r)};M(B,o=>{t(g)?o(lt):o(ot,!1)})}var it=d(B,2);bt(it,{get postNavData(){return s.data}}),w(()=>{q(at,s.data.post.title),q(st,s.data.post.date)}),Q("innerWidth",o=>W(j,o,!0)),Q("innerHeight",o=>W(C,o,!0)),y(f,X),_t()}ut(["click"]);export{Ot as component,Nt as universal};
